/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
/* == jquery mousewheel plugin == Version: 3.1.13, License: MIT License (MIT) */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(m=-1*g.deltaY,j=m),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(m=-1*g.deltaY,j=m),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});
/* == malihu jquery custom scrollbar plugin == Version: 3.1.5, License: MIT License (MIT) */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e:e(jQuery,window,document)}(function(e){!function(t){var o="function"==typeof define&&define.amd,a="undefined"!=typeof module&&module.exports,n="https:"==document.location.protocol?"https:":"http:",i="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js";o||(a?require("jquery-mousewheel")(e):e.event.special.mousewheel||e("head").append(decodeURI("%3Cscript src="+n+"//"+i+"%3E%3C/script%3E"))),t()}(function(){var t,o="mCustomScrollbar",a="mCS",n=".mCustomScrollbar",i={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},r=0,l={},s=window.attachEvent&&!window.addEventListener?1:0,c=!1,d=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],u={init:function(t){var t=e.extend(!0,{},i,t),o=f.call(this);if(t.live){var s=t.liveSelector||this.selector||n,c=e(s);if("off"===t.live)return void m(s);l[s]=setTimeout(function(){c.mCustomScrollbar(t),"once"===t.live&&c.length&&m(s)},500)}else m(s);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?"x":p(t.axis),t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia,"object"!=typeof t.mouseWheel&&1==t.mouseWheel&&(t.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=g(t.scrollButtons.scrollType),h(t),e(o).each(function(){var o=e(this);if(!o.data(a)){o.data(a,{idx:++r,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:o.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var n=o.data(a),i=n.opt,l=o.data("mcs-axis"),s=o.data("mcs-scrollbar-position"),c=o.data("mcs-theme");l&&(i.axis=l),s&&(i.scrollbarPosition=s),c&&(i.theme=c,h(i)),v.call(this),n&&i.callbacks.onCreate&&"function"==typeof i.callbacks.onCreate&&i.callbacks.onCreate.call(this),e("#mCSB_"+n.idx+"_container img:not(."+d[2]+")").addClass(d[2]),u.update.call(null,o)}})},update:function(t,o){var n=t||f.call(this);return e(n).each(function(){var t=e(this);if(t.data(a)){var n=t.data(a),i=n.opt,r=e("#mCSB_"+n.idx+"_container"),l=e("#mCSB_"+n.idx),s=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];if(!r.length)return;n.tweenRunning&&Q(t),o&&n&&i.callbacks.onBeforeUpdate&&"function"==typeof i.callbacks.onBeforeUpdate&&i.callbacks.onBeforeUpdate.call(this),t.hasClass(d[3])&&t.removeClass(d[3]),t.hasClass(d[4])&&t.removeClass(d[4]),l.css("max-height","none"),l.height()!==t.height()&&l.css("max-height",t.height()),_.call(this),"y"===i.axis||i.advanced.autoExpandHorizontalScroll||r.css("width",x(r)),n.overflowed=y.call(this),M.call(this),i.autoDraggerLength&&S.call(this),b.call(this),T.call(this);var c=[Math.abs(r[0].offsetTop),Math.abs(r[0].offsetLeft)];"x"!==i.axis&&(n.overflowed[0]?s[0].height()>s[0].parent().height()?B.call(this):(G(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}),n.contentReset.y=null):(B.call(this),"y"===i.axis?k.call(this):"yx"===i.axis&&n.overflowed[1]&&G(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==i.axis&&(n.overflowed[1]?s[1].width()>s[1].parent().width()?B.call(this):(G(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}),n.contentReset.x=null):(B.call(this),"x"===i.axis?k.call(this):"yx"===i.axis&&n.overflowed[0]&&G(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),o&&n&&(2===o&&i.callbacks.onImageLoad&&"function"==typeof i.callbacks.onImageLoad?i.callbacks.onImageLoad.call(this):3===o&&i.callbacks.onSelectorChange&&"function"==typeof i.callbacks.onSelectorChange?i.callbacks.onSelectorChange.call(this):i.callbacks.onUpdate&&"function"==typeof i.callbacks.onUpdate&&i.callbacks.onUpdate.call(this)),N.call(this)}})},scrollTo:function(t,o){if("undefined"!=typeof t&&null!=t){var n=f.call(this);return e(n).each(function(){var n=e(this);if(n.data(a)){var i=n.data(a),r=i.opt,l={trigger:"external",scrollInertia:r.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},s=e.extend(!0,{},l,o),c=Y.call(this,t),d=s.scrollInertia>0&&s.scrollInertia<17?17:s.scrollInertia;c[0]=X.call(this,c[0],"y"),c[1]=X.call(this,c[1],"x"),s.moveDragger&&(c[0]*=i.scrollRatio.y,c[1]*=i.scrollRatio.x),s.dur=ne()?0:d,setTimeout(function(){null!==c[0]&&"undefined"!=typeof c[0]&&"x"!==r.axis&&i.overflowed[0]&&(s.dir="y",s.overwrite="all",G(n,c[0].toString(),s)),null!==c[1]&&"undefined"!=typeof c[1]&&"y"!==r.axis&&i.overflowed[1]&&(s.dir="x",s.overwrite="none",G(n,c[1].toString(),s))},s.timeout)}})}},stop:function(){var t=f.call(this);return e(t).each(function(){var t=e(this);t.data(a)&&Q(t)})},disable:function(t){var o=f.call(this);return e(o).each(function(){var o=e(this);if(o.data(a)){o.data(a);N.call(this,"remove"),k.call(this),t&&B.call(this),M.call(this,!0),o.addClass(d[3])}})},destroy:function(){var t=f.call(this);return e(t).each(function(){var n=e(this);if(n.data(a)){var i=n.data(a),r=i.opt,l=e("#mCSB_"+i.idx),s=e("#mCSB_"+i.idx+"_container"),c=e(".mCSB_"+i.idx+"_scrollbar");r.live&&m(r.liveSelector||e(t).selector),N.call(this,"remove"),k.call(this),B.call(this),n.removeData(a),$(this,"mcs"),c.remove(),s.find("img."+d[2]).removeClass(d[2]),l.replaceWith(s.contents()),n.removeClass(o+" _"+a+"_"+i.idx+" "+d[6]+" "+d[7]+" "+d[5]+" "+d[3]).addClass(d[4])}})}},f=function(){return"object"!=typeof e(this)||e(this).length<1?n:this},h=function(t){var o=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],a=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],n=["minimal","minimal-dark"],i=["minimal","minimal-dark"],r=["minimal","minimal-dark"];t.autoDraggerLength=e.inArray(t.theme,o)>-1?!1:t.autoDraggerLength,t.autoExpandScrollbar=e.inArray(t.theme,a)>-1?!1:t.autoExpandScrollbar,t.scrollButtons.enable=e.inArray(t.theme,n)>-1?!1:t.scrollButtons.enable,t.autoHideScrollbar=e.inArray(t.theme,i)>-1?!0:t.autoHideScrollbar,t.scrollbarPosition=e.inArray(t.theme,r)>-1?"outside":t.scrollbarPosition},m=function(e){l[e]&&(clearTimeout(l[e]),$(l,e))},p=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},g=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},v=function(){var t=e(this),n=t.data(a),i=n.opt,r=i.autoExpandScrollbar?" "+d[1]+"_expand":"",l=["<div id='mCSB_"+n.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_vertical"+r+"'><div class='"+d[12]+"'><div id='mCSB_"+n.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+n.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_horizontal"+r+"'><div class='"+d[12]+"'><div id='mCSB_"+n.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],s="yx"===i.axis?"mCSB_vertical_horizontal":"x"===i.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===i.axis?l[0]+l[1]:"x"===i.axis?l[1]:l[0],u="yx"===i.axis?"<div id='mCSB_"+n.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",f=i.autoHideScrollbar?" "+d[6]:"",h="x"!==i.axis&&"rtl"===n.langDir?" "+d[7]:"";i.setWidth&&t.css("width",i.setWidth),i.setHeight&&t.css("height",i.setHeight),i.setLeft="y"!==i.axis&&"rtl"===n.langDir?"989999px":i.setLeft,t.addClass(o+" _"+a+"_"+n.idx+f+h).wrapInner("<div id='mCSB_"+n.idx+"' class='mCustomScrollBox mCS-"+i.theme+" "+s+"'><div id='mCSB_"+n.idx+"_container' class='mCSB_container' style='position:relative; top:"+i.setTop+"; left:"+i.setLeft+";' dir='"+n.langDir+"' /></div>");var m=e("#mCSB_"+n.idx),p=e("#mCSB_"+n.idx+"_container");"y"===i.axis||i.advanced.autoExpandHorizontalScroll||p.css("width",x(p)),"outside"===i.scrollbarPosition?("static"===t.css("position")&&t.css("position","relative"),t.css("overflow","visible"),m.addClass("mCSB_outside").after(c)):(m.addClass("mCSB_inside").append(c),p.wrap(u)),w.call(this);var g=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height()),g[1].css("min-width",g[1].width())},x=function(t){var o=[t[0].scrollWidth,Math.max.apply(Math,t.children().map(function(){return e(this).outerWidth(!0)}).get())],a=t.parent().width();return o[0]>a?o[0]:o[1]>a?o[1]:"100%"},_=function(){var t=e(this),o=t.data(a),n=o.opt,i=e("#mCSB_"+o.idx+"_container");if(n.advanced.autoExpandHorizontalScroll&&"y"!==n.axis){i.css({width:"auto","min-width":0,"overflow-x":"scroll"});var r=Math.ceil(i[0].scrollWidth);3===n.advanced.autoExpandHorizontalScroll||2!==n.advanced.autoExpandHorizontalScroll&&r>i.parent().width()?i.css({width:r,"min-width":"100%","overflow-x":"inherit"}):i.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(i[0].getBoundingClientRect().right+.4)-Math.floor(i[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},w=function(){var t=e(this),o=t.data(a),n=o.opt,i=e(".mCSB_"+o.idx+"_scrollbar:first"),r=oe(n.scrollButtons.tabindex)?"tabindex='"+n.scrollButtons.tabindex+"'":"",l=["<a href='#' class='"+d[13]+"' "+r+" />","<a href='#' class='"+d[14]+"' "+r+" />","<a href='#' class='"+d[15]+"' "+r+" />","<a href='#' class='"+d[16]+"' "+r+" />"],s=["x"===n.axis?l[2]:l[0],"x"===n.axis?l[3]:l[1],l[2],l[3]];n.scrollButtons.enable&&i.prepend(s[0]).append(s[1]).next(".mCSB_scrollTools").prepend(s[2]).append(s[3])},S=function(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],l=[n.height()/i.outerHeight(!1),n.width()/i.outerWidth(!1)],c=[parseInt(r[0].css("min-height")),Math.round(l[0]*r[0].parent().height()),parseInt(r[1].css("min-width")),Math.round(l[1]*r[1].parent().width())],d=s&&c[1]<c[0]?c[0]:c[1],u=s&&c[3]<c[2]?c[2]:c[3];r[0].css({height:d,"max-height":r[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":c[0]+"px"}),r[1].css({width:u,"max-width":r[1].parent().width()-10})},b=function(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],l=[i.outerHeight(!1)-n.height(),i.outerWidth(!1)-n.width()],s=[l[0]/(r[0].parent().height()-r[0].height()),l[1]/(r[1].parent().width()-r[1].width())];o.scrollRatio={y:s[0],x:s[1]}},C=function(e,t,o){var a=o?d[0]+"_expanded":"",n=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(d[0]+" "+a),n.toggleClass(d[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(d[0]),n.removeClass(d[1])):(e.addClass(d[0]),n.addClass(d[1])))},y=function(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=null==o.overflowed?i.height():i.outerHeight(!1),l=null==o.overflowed?i.width():i.outerWidth(!1),s=i[0].scrollHeight,c=i[0].scrollWidth;return s>r&&(r=s),c>l&&(l=c),[r>n.height(),l>n.width()]},B=function(){var t=e(this),o=t.data(a),n=o.opt,i=e("#mCSB_"+o.idx),r=e("#mCSB_"+o.idx+"_container"),l=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")];if(Q(t),("x"!==n.axis&&!o.overflowed[0]||"y"===n.axis&&o.overflowed[0])&&(l[0].add(r).css("top",0),G(t,"_resetY")),"y"!==n.axis&&!o.overflowed[1]||"x"===n.axis&&o.overflowed[1]){var s=dx=0;"rtl"===o.langDir&&(s=i.width()-r.outerWidth(!1),dx=Math.abs(s/o.scrollRatio.x)),r.css("left",s),l[1].css("left",dx),G(t,"_resetX")}},T=function(){function t(){r=setTimeout(function(){e.event.special.mousewheel?(clearTimeout(r),W.call(o[0])):t()},100)}var o=e(this),n=o.data(a),i=n.opt;if(!n.bindEvents){if(I.call(this),i.contentTouchScroll&&D.call(this),E.call(this),i.mouseWheel.enable){var r;t()}P.call(this),U.call(this),i.advanced.autoScrollOnFocus&&H.call(this),i.scrollButtons.enable&&F.call(this),i.keyboard.enable&&q.call(this),n.bindEvents=!0}},k=function(){var t=e(this),o=t.data(a),n=o.opt,i=a+"_"+o.idx,r=".mCSB_"+o.idx+"_scrollbar",l=e("#mCSB_"+o.idx+",#mCSB_"+o.idx+"_container,#mCSB_"+o.idx+"_container_wrapper,"+r+" ."+d[12]+",#mCSB_"+o.idx+"_dragger_vertical,#mCSB_"+o.idx+"_dragger_horizontal,"+r+">a"),s=e("#mCSB_"+o.idx+"_container");n.advanced.releaseDraggableSelectors&&l.add(e(n.advanced.releaseDraggableSelectors)),n.advanced.extraDraggableSelectors&&l.add(e(n.advanced.extraDraggableSelectors)),o.bindEvents&&(e(document).add(e(!A()||top.document)).unbind("."+i),l.each(function(){e(this).unbind("."+i)}),clearTimeout(t[0]._focusTimeout),$(t[0],"_focusTimeout"),clearTimeout(o.sequential.step),$(o.sequential,"step"),clearTimeout(s[0].onCompleteTimeout),$(s[0],"onCompleteTimeout"),o.bindEvents=!1)},M=function(t){var o=e(this),n=o.data(a),i=n.opt,r=e("#mCSB_"+n.idx+"_container_wrapper"),l=r.length?r:e("#mCSB_"+n.idx+"_container"),s=[e("#mCSB_"+n.idx+"_scrollbar_vertical"),e("#mCSB_"+n.idx+"_scrollbar_horizontal")],c=[s[0].find(".mCSB_dragger"),s[1].find(".mCSB_dragger")];"x"!==i.axis&&(n.overflowed[0]&&!t?(s[0].add(c[0]).add(s[0].children("a")).css("display","block"),l.removeClass(d[8]+" "+d[10])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[0].css("display","none"),l.removeClass(d[10])):(s[0].css("display","none"),l.addClass(d[10])),l.addClass(d[8]))),"y"!==i.axis&&(n.overflowed[1]&&!t?(s[1].add(c[1]).add(s[1].children("a")).css("display","block"),l.removeClass(d[9]+" "+d[11])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[1].css("display","none"),l.removeClass(d[11])):(s[1].css("display","none"),l.addClass(d[11])),l.addClass(d[9]))),n.overflowed[0]||n.overflowed[1]?o.removeClass(d[5]):o.addClass(d[5])},O=function(t){var o=t.type,a=t.target.ownerDocument!==document&&null!==frameElement?[e(frameElement).offset().top,e(frameElement).offset().left]:null,n=A()&&t.target.ownerDocument!==top.document&&null!==frameElement?[e(t.view.frameElement).offset().top,e(t.view.frameElement).offset().left]:[0,0];switch(o){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return a?[t.originalEvent.pageY-a[0]+n[0],t.originalEvent.pageX-a[1]+n[1],!1]:[t.originalEvent.pageY,t.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var i=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],r=t.originalEvent.touches.length||t.originalEvent.changedTouches.length;return t.target.ownerDocument!==document?[i.screenY,i.screenX,r>1]:[i.pageY,i.pageX,r>1];default:return a?[t.pageY-a[0]+n[0],t.pageX-a[1]+n[1],!1]:[t.pageY,t.pageX,!1]}},I=function(){function t(e,t,a,n){if(h[0].idleTimer=d.scrollInertia<233?250:0,o.attr("id")===f[1])var i="x",s=(o[0].offsetLeft-t+n)*l.scrollRatio.x;else var i="y",s=(o[0].offsetTop-e+a)*l.scrollRatio.y;G(r,s.toString(),{dir:i,drag:!0})}var o,n,i,r=e(this),l=r.data(a),d=l.opt,u=a+"_"+l.idx,f=["mCSB_"+l.idx+"_dragger_vertical","mCSB_"+l.idx+"_dragger_horizontal"],h=e("#mCSB_"+l.idx+"_container"),m=e("#"+f[0]+",#"+f[1]),p=d.advanced.releaseDraggableSelectors?m.add(e(d.advanced.releaseDraggableSelectors)):m,g=d.advanced.extraDraggableSelectors?e(!A()||top.document).add(e(d.advanced.extraDraggableSelectors)):e(!A()||top.document);m.bind("contextmenu."+u,function(e){e.preventDefault()}).bind("mousedown."+u+" touchstart."+u+" pointerdown."+u+" MSPointerDown."+u,function(t){if(t.stopImmediatePropagation(),t.preventDefault(),ee(t)){c=!0,s&&(document.onselectstart=function(){return!1}),L.call(h,!1),Q(r),o=e(this);var a=o.offset(),l=O(t)[0]-a.top,u=O(t)[1]-a.left,f=o.height()+a.top,m=o.width()+a.left;f>l&&l>0&&m>u&&u>0&&(n=l,i=u),C(o,"active",d.autoExpandScrollbar)}}).bind("touchmove."+u,function(e){e.stopImmediatePropagation(),e.preventDefault();var a=o.offset(),r=O(e)[0]-a.top,l=O(e)[1]-a.left;t(n,i,r,l)}),e(document).add(g).bind("mousemove."+u+" pointermove."+u+" MSPointerMove."+u,function(e){if(o){var a=o.offset(),r=O(e)[0]-a.top,l=O(e)[1]-a.left;if(n===r&&i===l)return;t(n,i,r,l)}}).add(p).bind("mouseup."+u+" touchend."+u+" pointerup."+u+" MSPointerUp."+u,function(){o&&(C(o,"active",d.autoExpandScrollbar),o=null),c=!1,s&&(document.onselectstart=null),L.call(h,!0)})},D=function(){function o(e){if(!te(e)||c||O(e)[2])return void(t=0);t=1,b=0,C=0,d=1,y.removeClass("mCS_touch_action");var o=I.offset();u=O(e)[0]-o.top,f=O(e)[1]-o.left,z=[O(e)[0],O(e)[1]]}function n(e){if(te(e)&&!c&&!O(e)[2]&&(T.documentTouchScroll||e.preventDefault(),e.stopImmediatePropagation(),(!C||b)&&d)){g=K();var t=M.offset(),o=O(e)[0]-t.top,a=O(e)[1]-t.left,n="mcsLinearOut";if(E.push(o),W.push(a),z[2]=Math.abs(O(e)[0]-z[0]),z[3]=Math.abs(O(e)[1]-z[1]),B.overflowed[0])var i=D[0].parent().height()-D[0].height(),r=u-o>0&&o-u>-(i*B.scrollRatio.y)&&(2*z[3]<z[2]||"yx"===T.axis);if(B.overflowed[1])var l=D[1].parent().width()-D[1].width(),h=f-a>0&&a-f>-(l*B.scrollRatio.x)&&(2*z[2]<z[3]||"yx"===T.axis);r||h?(U||e.preventDefault(),b=1):(C=1,y.addClass("mCS_touch_action")),U&&e.preventDefault(),w="yx"===T.axis?[u-o,f-a]:"x"===T.axis?[null,f-a]:[u-o,null],I[0].idleTimer=250,B.overflowed[0]&&s(w[0],R,n,"y","all",!0),B.overflowed[1]&&s(w[1],R,n,"x",L,!0)}}function i(e){if(!te(e)||c||O(e)[2])return void(t=0);t=1,e.stopImmediatePropagation(),Q(y),p=K();var o=M.offset();h=O(e)[0]-o.top,m=O(e)[1]-o.left,E=[],W=[]}function r(e){if(te(e)&&!c&&!O(e)[2]){d=0,e.stopImmediatePropagation(),b=0,C=0,v=K();var t=M.offset(),o=O(e)[0]-t.top,a=O(e)[1]-t.left;if(!(v-g>30)){_=1e3/(v-p);var n="mcsEaseOut",i=2.5>_,r=i?[E[E.length-2],W[W.length-2]]:[0,0];x=i?[o-r[0],a-r[1]]:[o-h,a-m];var u=[Math.abs(x[0]),Math.abs(x[1])];_=i?[Math.abs(x[0]/4),Math.abs(x[1]/4)]:[_,_];var f=[Math.abs(I[0].offsetTop)-x[0]*l(u[0]/_[0],_[0]),Math.abs(I[0].offsetLeft)-x[1]*l(u[1]/_[1],_[1])];w="yx"===T.axis?[f[0],f[1]]:"x"===T.axis?[null,f[1]]:[f[0],null],S=[4*u[0]+T.scrollInertia,4*u[1]+T.scrollInertia];var y=parseInt(T.contentTouchScroll)||0;w[0]=u[0]>y?w[0]:0,w[1]=u[1]>y?w[1]:0,B.overflowed[0]&&s(w[0],S[0],n,"y",L,!1),B.overflowed[1]&&s(w[1],S[1],n,"x",L,!1)}}}function l(e,t){var o=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?o[0]:o[3]:e>60?t>3?o[3]:o[2]:e>30?t>8?o[1]:t>6?o[0]:t>4?t:o[2]:t>8?t:o[3]}function s(e,t,o,a,n,i){e&&G(y,e.toString(),{dur:t,scrollEasing:o,dir:a,overwrite:n,drag:i})}var d,u,f,h,m,p,g,v,x,_,w,S,b,C,y=e(this),B=y.data(a),T=B.opt,k=a+"_"+B.idx,M=e("#mCSB_"+B.idx),I=e("#mCSB_"+B.idx+"_container"),D=[e("#mCSB_"+B.idx+"_dragger_vertical"),e("#mCSB_"+B.idx+"_dragger_horizontal")],E=[],W=[],R=0,L="yx"===T.axis?"none":"all",z=[],P=I.find("iframe"),H=["touchstart."+k+" pointerdown."+k+" MSPointerDown."+k,"touchmove."+k+" pointermove."+k+" MSPointerMove."+k,"touchend."+k+" pointerup."+k+" MSPointerUp."+k],U=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;I.bind(H[0],function(e){o(e)}).bind(H[1],function(e){n(e)}),M.bind(H[0],function(e){i(e)}).bind(H[2],function(e){r(e)}),P.length&&P.each(function(){e(this).bind("load",function(){A(this)&&e(this.contentDocument||this.contentWindow.document).bind(H[0],function(e){o(e),i(e)}).bind(H[1],function(e){n(e)}).bind(H[2],function(e){r(e)})})})},E=function(){function o(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function n(e,t,o){d.type=o&&i?"stepped":"stepless",d.scrollAmount=10,j(r,e,t,"mcsLinearOut",o?60:null)}var i,r=e(this),l=r.data(a),s=l.opt,d=l.sequential,u=a+"_"+l.idx,f=e("#mCSB_"+l.idx+"_container"),h=f.parent();f.bind("mousedown."+u,function(){t||i||(i=1,c=!0)}).add(document).bind("mousemove."+u,function(e){if(!t&&i&&o()){var a=f.offset(),r=O(e)[0]-a.top+f[0].offsetTop,c=O(e)[1]-a.left+f[0].offsetLeft;r>0&&r<h.height()&&c>0&&c<h.width()?d.step&&n("off",null,"stepped"):("x"!==s.axis&&l.overflowed[0]&&(0>r?n("on",38):r>h.height()&&n("on",40)),"y"!==s.axis&&l.overflowed[1]&&(0>c?n("on",37):c>h.width()&&n("on",39)))}}).bind("mouseup."+u+" dragend."+u,function(){t||(i&&(i=0,n("off",null)),c=!1)})},W=function(){function t(t,a){if(Q(o),!z(o,t.target)){var r="auto"!==i.mouseWheel.deltaFactor?parseInt(i.mouseWheel.deltaFactor):s&&t.deltaFactor<100?100:t.deltaFactor||100,d=i.scrollInertia;if("x"===i.axis||"x"===i.mouseWheel.axis)var u="x",f=[Math.round(r*n.scrollRatio.x),parseInt(i.mouseWheel.scrollAmount)],h="auto"!==i.mouseWheel.scrollAmount?f[1]:f[0]>=l.width()?.9*l.width():f[0],m=Math.abs(e("#mCSB_"+n.idx+"_container")[0].offsetLeft),p=c[1][0].offsetLeft,g=c[1].parent().width()-c[1].width(),v="y"===i.mouseWheel.axis?t.deltaY||a:t.deltaX;else var u="y",f=[Math.round(r*n.scrollRatio.y),parseInt(i.mouseWheel.scrollAmount)],h="auto"!==i.mouseWheel.scrollAmount?f[1]:f[0]>=l.height()?.9*l.height():f[0],m=Math.abs(e("#mCSB_"+n.idx+"_container")[0].offsetTop),p=c[0][0].offsetTop,g=c[0].parent().height()-c[0].height(),v=t.deltaY||a;"y"===u&&!n.overflowed[0]||"x"===u&&!n.overflowed[1]||((i.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(v=-v),i.mouseWheel.normalizeDelta&&(v=0>v?-1:1),(v>0&&0!==p||0>v&&p!==g||i.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),t.deltaFactor<5&&!i.mouseWheel.normalizeDelta&&(h=t.deltaFactor,d=17),G(o,(m-v*h).toString(),{dir:u,dur:d}))}}if(e(this).data(a)){var o=e(this),n=o.data(a),i=n.opt,r=a+"_"+n.idx,l=e("#mCSB_"+n.idx),c=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")],d=e("#mCSB_"+n.idx+"_container").find("iframe");d.length&&d.each(function(){e(this).bind("load",function(){A(this)&&e(this.contentDocument||this.contentWindow.document).bind("mousewheel."+r,function(e,o){t(e,o)})})}),l.bind("mousewheel."+r,function(e,o){t(e,o)})}},R=new Object,A=function(t){var o=!1,a=!1,n=null;if(void 0===t?a="#empty":void 0!==e(t).attr("id")&&(a=e(t).attr("id")),a!==!1&&void 0!==R[a])return R[a];if(t){try{var i=t.contentDocument||t.contentWindow.document;n=i.body.innerHTML}catch(r){}o=null!==n}else{try{var i=top.document;n=i.body.innerHTML}catch(r){}o=null!==n}return a!==!1&&(R[a]=o),o},L=function(e){var t=this.find("iframe");if(t.length){var o=e?"auto":"none";t.css("pointer-events",o)}},z=function(t,o){var n=o.nodeName.toLowerCase(),i=t.data(a).opt.mouseWheel.disableOver,r=["select","textarea"];return e.inArray(n,i)>-1&&!(e.inArray(n,r)>-1&&!e(o).is(":focus"))},P=function(){var t,o=e(this),n=o.data(a),i=a+"_"+n.idx,r=e("#mCSB_"+n.idx+"_container"),l=r.parent(),s=e(".mCSB_"+n.idx+"_scrollbar ."+d[12]);s.bind("mousedown."+i+" touchstart."+i+" pointerdown."+i+" MSPointerDown."+i,function(o){c=!0,e(o.target).hasClass("mCSB_dragger")||(t=1)}).bind("touchend."+i+" pointerup."+i+" MSPointerUp."+i,function(){c=!1}).bind("click."+i,function(a){if(t&&(t=0,e(a.target).hasClass(d[12])||e(a.target).hasClass("mCSB_draggerRail"))){Q(o);var i=e(this),s=i.find(".mCSB_dragger");if(i.parent(".mCSB_scrollTools_horizontal").length>0){if(!n.overflowed[1])return;var c="x",u=a.pageX>s.offset().left?-1:1,f=Math.abs(r[0].offsetLeft)-u*(.9*l.width())}else{if(!n.overflowed[0])return;var c="y",u=a.pageY>s.offset().top?-1:1,f=Math.abs(r[0].offsetTop)-u*(.9*l.height())}G(o,f.toString(),{dir:c,scrollEasing:"mcsEaseInOut"})}})},H=function(){var t=e(this),o=t.data(a),n=o.opt,i=a+"_"+o.idx,r=e("#mCSB_"+o.idx+"_container"),l=r.parent();r.bind("focusin."+i,function(){var o=e(document.activeElement),a=r.find(".mCustomScrollBox").length,i=0;o.is(n.advanced.autoScrollOnFocus)&&(Q(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=a?(i+17)*a:0,t[0]._focusTimeout=setTimeout(function(){var e=[ae(o)[0],ae(o)[1]],a=[r[0].offsetTop,r[0].offsetLeft],s=[a[0]+e[0]>=0&&a[0]+e[0]<l.height()-o.outerHeight(!1),a[1]+e[1]>=0&&a[0]+e[1]<l.width()-o.outerWidth(!1)],c="yx"!==n.axis||s[0]||s[1]?"all":"none";"x"===n.axis||s[0]||G(t,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:c,dur:i}),"y"===n.axis||s[1]||G(t,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:c,dur:i})},t[0]._focusTimer))})},U=function(){var t=e(this),o=t.data(a),n=a+"_"+o.idx,i=e("#mCSB_"+o.idx+"_container").parent();i.bind("scroll."+n,function(){0===i.scrollTop()&&0===i.scrollLeft()||e(".mCSB_"+o.idx+"_scrollbar").css("visibility","hidden")})},F=function(){var t=e(this),o=t.data(a),n=o.opt,i=o.sequential,r=a+"_"+o.idx,l=".mCSB_"+o.idx+"_scrollbar",s=e(l+">a");s.bind("contextmenu."+r,function(e){e.preventDefault()}).bind("mousedown."+r+" touchstart."+r+" pointerdown."+r+" MSPointerDown."+r+" mouseup."+r+" touchend."+r+" pointerup."+r+" MSPointerUp."+r+" mouseout."+r+" pointerout."+r+" MSPointerOut."+r+" click."+r,function(a){function r(e,o){i.scrollAmount=n.scrollButtons.scrollAmount,j(t,e,o)}if(a.preventDefault(),ee(a)){var l=e(this).attr("class");switch(i.type=n.scrollButtons.scrollType,a.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===i.type)return;c=!0,o.tweenRunning=!1,r("on",l);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===i.type)return;c=!1,i.dir&&r("off",l);break;case"click":if("stepped"!==i.type||o.tweenRunning)return;r("on",l)}}})},q=function(){function t(t){function a(e,t){r.type=i.keyboard.scrollType,r.scrollAmount=i.keyboard.scrollAmount,"stepped"===r.type&&n.tweenRunning||j(o,e,t)}switch(t.type){case"blur":n.tweenRunning&&r.dir&&a("off",null);break;case"keydown":case"keyup":var l=t.keyCode?t.keyCode:t.which,s="on";if("x"!==i.axis&&(38===l||40===l)||"y"!==i.axis&&(37===l||39===l)){if((38===l||40===l)&&!n.overflowed[0]||(37===l||39===l)&&!n.overflowed[1])return;"keyup"===t.type&&(s="off"),e(document.activeElement).is(u)||(t.preventDefault(),t.stopImmediatePropagation(),a(s,l))}else if(33===l||34===l){if((n.overflowed[0]||n.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type){Q(o);var f=34===l?-1:1;if("x"===i.axis||"yx"===i.axis&&n.overflowed[1]&&!n.overflowed[0])var h="x",m=Math.abs(c[0].offsetLeft)-f*(.9*d.width());else var h="y",m=Math.abs(c[0].offsetTop)-f*(.9*d.height());G(o,m.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}else if((35===l||36===l)&&!e(document.activeElement).is(u)&&((n.overflowed[0]||n.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type)){if("x"===i.axis||"yx"===i.axis&&n.overflowed[1]&&!n.overflowed[0])var h="x",m=35===l?Math.abs(d.width()-c.outerWidth(!1)):0;else var h="y",m=35===l?Math.abs(d.height()-c.outerHeight(!1)):0;G(o,m.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}}var o=e(this),n=o.data(a),i=n.opt,r=n.sequential,l=a+"_"+n.idx,s=e("#mCSB_"+n.idx),c=e("#mCSB_"+n.idx+"_container"),d=c.parent(),u="input,textarea,select,datalist,keygen,[contenteditable='true']",f=c.find("iframe"),h=["blur."+l+" keydown."+l+" keyup."+l];f.length&&f.each(function(){e(this).bind("load",function(){A(this)&&e(this.contentDocument||this.contentWindow.document).bind(h[0],function(e){t(e)})})}),s.attr("tabindex","0").bind(h[0],function(e){t(e)})},j=function(t,o,n,i,r){function l(e){u.snapAmount&&(f.scrollAmount=u.snapAmount instanceof Array?"x"===f.dir[0]?u.snapAmount[1]:u.snapAmount[0]:u.snapAmount);var o="stepped"!==f.type,a=r?r:e?o?p/1.5:g:1e3/60,n=e?o?7.5:40:2.5,s=[Math.abs(h[0].offsetTop),Math.abs(h[0].offsetLeft)],d=[c.scrollRatio.y>10?10:c.scrollRatio.y,c.scrollRatio.x>10?10:c.scrollRatio.x],m="x"===f.dir[0]?s[1]+f.dir[1]*(d[1]*n):s[0]+f.dir[1]*(d[0]*n),v="x"===f.dir[0]?s[1]+f.dir[1]*parseInt(f.scrollAmount):s[0]+f.dir[1]*parseInt(f.scrollAmount),x="auto"!==f.scrollAmount?v:m,_=i?i:e?o?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",w=!!e;return e&&17>a&&(x="x"===f.dir[0]?s[1]:s[0]),G(t,x.toString(),{dir:f.dir[0],scrollEasing:_,dur:a,onComplete:w}),e?void(f.dir=!1):(clearTimeout(f.step),void(f.step=setTimeout(function(){l()},a)))}function s(){clearTimeout(f.step),$(f,"step"),Q(t)}var c=t.data(a),u=c.opt,f=c.sequential,h=e("#mCSB_"+c.idx+"_container"),m="stepped"===f.type,p=u.scrollInertia<26?26:u.scrollInertia,g=u.scrollInertia<1?17:u.scrollInertia;switch(o){case"on":if(f.dir=[n===d[16]||n===d[15]||39===n||37===n?"x":"y",n===d[13]||n===d[15]||38===n||37===n?-1:1],Q(t),oe(n)&&"stepped"===f.type)return;l(m);break;case"off":s(),(m||c.tweenRunning&&f.dir)&&l(!0)}},Y=function(t){var o=e(this).data(a).opt,n=[];return"function"==typeof t&&(t=t()),t instanceof Array?n=t.length>1?[t[0],t[1]]:"x"===o.axis?[null,t[0]]:[t[0],null]:(n[0]=t.y?t.y:t.x||"x"===o.axis?null:t,n[1]=t.x?t.x:t.y||"y"===o.axis?null:t),"function"==typeof n[0]&&(n[0]=n[0]()),"function"==typeof n[1]&&(n[1]=n[1]()),n},X=function(t,o){if(null!=t&&"undefined"!=typeof t){var n=e(this),i=n.data(a),r=i.opt,l=e("#mCSB_"+i.idx+"_container"),s=l.parent(),c=typeof t;o||(o="x"===r.axis?"x":"y");var d="x"===o?l.outerWidth(!1)-s.width():l.outerHeight(!1)-s.height(),f="x"===o?l[0].offsetLeft:l[0].offsetTop,h="x"===o?"left":"top";switch(c){case"function":return t();case"object":var m=t.jquery?t:e(t);if(!m.length)return;return"x"===o?ae(m)[1]:ae(m)[0];case"string":case"number":if(oe(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(d*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(f-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var p=f+parseInt(t.split("+=")[1]);return p>=0?0:Math.abs(p)}if(-1!==t.indexOf("px")&&oe(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(s.height()-l.outerHeight(!1));if("right"===t)return Math.abs(s.width()-l.outerWidth(!1));if("first"===t||"last"===t){var m=l.find(":"+t);return"x"===o?ae(m)[1]:ae(m)[0]}return e(t).length?"x"===o?ae(e(t))[1]:ae(e(t))[0]:(l.css(h,t),void u.update.call(null,n[0]))}}},N=function(t){function o(){return clearTimeout(f[0].autoUpdate),0===l.parents("html").length?void(l=null):void(f[0].autoUpdate=setTimeout(function(){return c.advanced.updateOnSelectorChange&&(s.poll.change.n=i(),s.poll.change.n!==s.poll.change.o)?(s.poll.change.o=s.poll.change.n,void r(3)):c.advanced.updateOnContentResize&&(s.poll.size.n=l[0].scrollHeight+l[0].scrollWidth+f[0].offsetHeight+l[0].offsetHeight+l[0].offsetWidth,s.poll.size.n!==s.poll.size.o)?(s.poll.size.o=s.poll.size.n,void r(1)):!c.advanced.updateOnImageLoad||"auto"===c.advanced.updateOnImageLoad&&"y"===c.axis||(s.poll.img.n=f.find("img").length,s.poll.img.n===s.poll.img.o)?void((c.advanced.updateOnSelectorChange||c.advanced.updateOnContentResize||c.advanced.updateOnImageLoad)&&o()):(s.poll.img.o=s.poll.img.n,void f.find("img").each(function(){n(this)}))},c.advanced.autoUpdateTimeout))}function n(t){function o(e,t){return function(){
return t.apply(e,arguments)}}function a(){this.onload=null,e(t).addClass(d[2]),r(2)}if(e(t).hasClass(d[2]))return void r();var n=new Image;n.onload=o(n,a),n.src=t.src}function i(){c.advanced.updateOnSelectorChange===!0&&(c.advanced.updateOnSelectorChange="*");var e=0,t=f.find(c.advanced.updateOnSelectorChange);return c.advanced.updateOnSelectorChange&&t.length>0&&t.each(function(){e+=this.offsetHeight+this.offsetWidth}),e}function r(e){clearTimeout(f[0].autoUpdate),u.update.call(null,l[0],e)}var l=e(this),s=l.data(a),c=s.opt,f=e("#mCSB_"+s.idx+"_container");return t?(clearTimeout(f[0].autoUpdate),void $(f[0],"autoUpdate")):void o()},V=function(e,t,o){return Math.round(e/t)*t-o},Q=function(t){var o=t.data(a),n=e("#mCSB_"+o.idx+"_container,#mCSB_"+o.idx+"_container_wrapper,#mCSB_"+o.idx+"_dragger_vertical,#mCSB_"+o.idx+"_dragger_horizontal");n.each(function(){Z.call(this)})},G=function(t,o,n){function i(e){return s&&c.callbacks[e]&&"function"==typeof c.callbacks[e]}function r(){return[c.callbacks.alwaysTriggerOffsets||w>=S[0]+y,c.callbacks.alwaysTriggerOffsets||-B>=w]}function l(){var e=[h[0].offsetTop,h[0].offsetLeft],o=[x[0].offsetTop,x[0].offsetLeft],a=[h.outerHeight(!1),h.outerWidth(!1)],i=[f.height(),f.width()];t[0].mcs={content:h,top:e[0],left:e[1],draggerTop:o[0],draggerLeft:o[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(a[0])-i[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(a[1])-i[1])),direction:n.dir}}var s=t.data(a),c=s.opt,d={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:c.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},n=e.extend(d,n),u=[n.dur,n.drag?0:n.dur],f=e("#mCSB_"+s.idx),h=e("#mCSB_"+s.idx+"_container"),m=h.parent(),p=c.callbacks.onTotalScrollOffset?Y.call(t,c.callbacks.onTotalScrollOffset):[0,0],g=c.callbacks.onTotalScrollBackOffset?Y.call(t,c.callbacks.onTotalScrollBackOffset):[0,0];if(s.trigger=n.trigger,0===m.scrollTop()&&0===m.scrollLeft()||(e(".mCSB_"+s.idx+"_scrollbar").css("visibility","visible"),m.scrollTop(0).scrollLeft(0)),"_resetY"!==o||s.contentReset.y||(i("onOverflowYNone")&&c.callbacks.onOverflowYNone.call(t[0]),s.contentReset.y=1),"_resetX"!==o||s.contentReset.x||(i("onOverflowXNone")&&c.callbacks.onOverflowXNone.call(t[0]),s.contentReset.x=1),"_resetY"!==o&&"_resetX"!==o){if(!s.contentReset.y&&t[0].mcs||!s.overflowed[0]||(i("onOverflowY")&&c.callbacks.onOverflowY.call(t[0]),s.contentReset.x=null),!s.contentReset.x&&t[0].mcs||!s.overflowed[1]||(i("onOverflowX")&&c.callbacks.onOverflowX.call(t[0]),s.contentReset.x=null),c.snapAmount){var v=c.snapAmount instanceof Array?"x"===n.dir?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount;o=V(o,v,c.snapOffset)}switch(n.dir){case"x":var x=e("#mCSB_"+s.idx+"_dragger_horizontal"),_="left",w=h[0].offsetLeft,S=[f.width()-h.outerWidth(!1),x.parent().width()-x.width()],b=[o,0===o?0:o/s.scrollRatio.x],y=p[1],B=g[1],T=y>0?y/s.scrollRatio.x:0,k=B>0?B/s.scrollRatio.x:0;break;case"y":var x=e("#mCSB_"+s.idx+"_dragger_vertical"),_="top",w=h[0].offsetTop,S=[f.height()-h.outerHeight(!1),x.parent().height()-x.height()],b=[o,0===o?0:o/s.scrollRatio.y],y=p[0],B=g[0],T=y>0?y/s.scrollRatio.y:0,k=B>0?B/s.scrollRatio.y:0}b[1]<0||0===b[0]&&0===b[1]?b=[0,0]:b[1]>=S[1]?b=[S[0],S[1]]:b[0]=-b[0],t[0].mcs||(l(),i("onInit")&&c.callbacks.onInit.call(t[0])),clearTimeout(h[0].onCompleteTimeout),J(x[0],_,Math.round(b[1]),u[1],n.scrollEasing),!s.tweenRunning&&(0===w&&b[0]>=0||w===S[0]&&b[0]<=S[0])||J(h[0],_,Math.round(b[0]),u[0],n.scrollEasing,n.overwrite,{onStart:function(){n.callbacks&&n.onStart&&!s.tweenRunning&&(i("onScrollStart")&&(l(),c.callbacks.onScrollStart.call(t[0])),s.tweenRunning=!0,C(x),s.cbOffsets=r())},onUpdate:function(){n.callbacks&&n.onUpdate&&i("whileScrolling")&&(l(),c.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(n.callbacks&&n.onComplete){"yx"===c.axis&&clearTimeout(h[0].onCompleteTimeout);var e=h[0].idleTimer||0;h[0].onCompleteTimeout=setTimeout(function(){i("onScroll")&&(l(),c.callbacks.onScroll.call(t[0])),i("onTotalScroll")&&b[1]>=S[1]-T&&s.cbOffsets[0]&&(l(),c.callbacks.onTotalScroll.call(t[0])),i("onTotalScrollBack")&&b[1]<=k&&s.cbOffsets[1]&&(l(),c.callbacks.onTotalScrollBack.call(t[0])),s.tweenRunning=!1,h[0].idleTimer=0,C(x,"hide")},e)}}})}},J=function(e,t,o,a,n,i,r){function l(){S.stop||(x||m.call(),x=K()-v,s(),x>=S.time&&(S.time=x>S.time?x+f-(x-S.time):x+f-1,S.time<x+1&&(S.time=x+1)),S.time<a?S.id=h(l):g.call())}function s(){a>0?(S.currVal=u(S.time,_,b,a,n),w[t]=Math.round(S.currVal)+"px"):w[t]=o+"px",p.call()}function c(){f=1e3/60,S.time=x+f,h=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return s(),setTimeout(e,.01)},S.id=h(l)}function d(){null!=S.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(S.id):clearTimeout(S.id),S.id=null)}function u(e,t,o,a,n){switch(n){case"linear":case"mcsLinear":return o*e/a+t;case"mcsLinearOut":return e/=a,e--,o*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return e/=a/2,1>e?o/2*e*e+t:(e--,-o/2*(e*(e-2)-1)+t);case"easeInOutStrong":return e/=a/2,1>e?o/2*Math.pow(2,10*(e-1))+t:(e--,o/2*(-Math.pow(2,-10*e)+2)+t);case"easeInOut":case"mcsEaseInOut":return e/=a/2,1>e?o/2*e*e*e+t:(e-=2,o/2*(e*e*e+2)+t);case"easeOutSmooth":return e/=a,e--,-o*(e*e*e*e-1)+t;case"easeOutStrong":return o*(-Math.pow(2,-10*e/a)+1)+t;case"easeOut":case"mcsEaseOut":default:var i=(e/=a)*e,r=i*e;return t+o*(.499999999999997*r*i+-2.5*i*i+5.5*r+-6.5*i+4*e)}}e._mTween||(e._mTween={top:{},left:{}});var f,h,r=r||{},m=r.onStart||function(){},p=r.onUpdate||function(){},g=r.onComplete||function(){},v=K(),x=0,_=e.offsetTop,w=e.style,S=e._mTween[t];"left"===t&&(_=e.offsetLeft);var b=o-_;S.stop=0,"none"!==i&&d(),c()},K=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},Z=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=["top","left"],o=0;o<t.length;o++){var a=t[o];e._mTween[a].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[a].id):clearTimeout(e._mTween[a].id),e._mTween[a].id=null,e._mTween[a].stop=1)}},$=function(e,t){try{delete e[t]}catch(o){e[t]=null}},ee=function(e){return!(e.which&&1!==e.which)},te=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},oe=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},ae=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]},ne=function(){function e(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}var t=e();return t?document[t]:!1};e.fn[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)},e[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)},e[o].defaults=i,window[o]=!0,e(window).bind("load",function(){e(n)[o](),e.extend(e.expr[":"],{mcsInView:e.expr[":"].mcsInView||function(t){var o,a,n=e(t),i=n.parents(".mCSB_container");if(i.length)return o=i.parent(),a=[i[0].offsetTop,i[0].offsetLeft],a[0]+ae(n)[0]>=0&&a[0]+ae(n)[0]<o.height()-n.outerHeight(!1)&&a[1]+ae(n)[1]>=0&&a[1]+ae(n)[1]<o.width()-n.outerWidth(!1)},mcsInSight:e.expr[":"].mcsInSight||function(t,o,a){var n,i,r,l,s=e(t),c=s.parents(".mCSB_container"),d="exact"===a[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(c.length)return n=[s.outerHeight(!1),s.outerWidth(!1)],r=[c[0].offsetTop+ae(s)[0],c[0].offsetLeft+ae(s)[1]],i=[c.parent()[0].offsetHeight,c.parent()[0].offsetWidth],l=[n[0]<i[0]?d[0]:d[1],n[1]<i[1]?d[0]:d[1]],r[0]-i[0]*l[0][0]<0&&r[0]+n[0]-i[0]*l[0][1]>=0&&r[1]-i[1]*l[1][0]<0&&r[1]+n[1]-i[1]*l[1][1]>=0},mcsOverflow:e.expr[":"].mcsOverflow||function(t){var o=e(t).data(a);if(o)return o.overflowed[0]||o.overflowed[1]}})})})});;
(function($,Drupal){$.fn.extend({treed:function(o){var openedClass='fa-minus-circle';var closedClass='fa-plus-circle';var expandAll=false;if(typeof o!='undefined'){if(typeof o.openedClass!='undefined')openedClass=o.openedClass;if(typeof o.closedClass!='undefined')closedClass=o.closedClass;if(typeof o.expandAll!='undefined')expandAll=o.expandAll;};var curUrl=window.location.pathname;$(this).find('a').each(function(){var href=$(this).attr('href');if(href==curUrl)$(this).parents('li').addClass('active');});var tree=$(this);tree.addClass("tree");tree.find('li').has("ul").each(function(){var branch=$(this);var initialClass=expandAll?openedClass:closedClass;if(!expandAll&&branch.hasClass('active'))initialClass=openedClass;branch.prepend("<i class='indicator fas "+initialClass+"'></i>");branch.addClass('branch');branch.on('click',function(e){if(this==e.target){var icon=$(this).children('i:first');icon.toggleClass(openedClass+" "+closedClass);$(this).children().children().toggle();}});if(!expandAll&&!branch.hasClass('active'))branch.children().children().toggle();});tree.find('.branch .indicator').each(function(){$(this).on('click',function(){$(this).closest('li').click();});});tree.find('.branch>a').each(function(){$(this).on('click',function(e){$(this).closest('li').click();e.preventDefault();});});tree.find('.branch>button').each(function(){$(this).on('click',function(e){$(this).closest('li').click();e.preventDefault();});});}});Drupal.behaviors.treeView={attach:function(context,settings){if(context===document)$('.jsTreeViewExpand').treed();}};})(jQuery,Drupal);;
const valAll='reset_all';(function($,Drupal){Drupal.behaviors.dropChecker={attach:function(context,settings){var getDropCheckValue=function(filterName){var values=[];var checkedField=$('.jsDropCheckContainer[data-filter="'+filterName+'"]').find('input:checked');$(checkedField).each(function(){values.push($(this).val());});return values.join('+');};var updateMultiDropCheckTitle=function(container){var checkedField=container.find('input:checked');var total=$(checkedField).length;var dropCount=container.find('.jsDropCount');if(total==1&&checkedField.first().val()==valAll)total=0;$(dropCount).text(total==0?'':total);if(total==0)$(dropCount).removeClass('active');else $(dropCount).addClass('active');};$('.jsMultiChoice .jsDropCheckContainer').each(function(e){updateMultiDropCheckTitle($(this));});$(document).on('change','.jsMultiChoice .jsDropCheckContainer .jsDropCheckList input[type="checkbox"]',function(e){var container=$(this).parents('.jsDropCheckContainer');if($(this).val()!=valAll){var all=$(container).find('input[type="checkbox"][value="'+valAll+'"]');if($(this).is(':checked'))$(all).prop('checked',false);else{if(container.find('input:checked').length==0)$(all).prop('checked',true);}}else if($(this).is(':checked'))$(container).find('input[type="checkbox"][value!="'+valAll+'"]').prop('checked',false);else $(this).prop('checked',true);updateMultiDropCheckTitle(container);});var updateSingleDropCheckTitle=function(container){var checkedLabel=container.find('input:checked').siblings('label');var dropValue=container.find('.jsDropValue');$(dropValue).text(checkedLabel.text());};$('.jsSingleChoice .jsDropCheckContainer').each(function(e){updateSingleDropCheckTitle($(this));});$(document).on('change','.jsSingleChoice .jsDropCheckContainer .jsDropCheckList input[type="checkbox"]',function(e){var container=$(this).parents('.jsDropCheckContainer');if(!$(this).is(':checked'))if($(container).find('input[type="checkbox"]:checked').length===0){$(this).prop('checked',true);return;}$(container).find('input[type="checkbox"]').not(this).prop('checked',false);updateSingleDropCheckTitle(container);});$('.jsDropFilterReset').on('click',function(){window.location.href=window.location.origin+window.location.pathname;});$('.jsDropFilterApply').on('click',function(){Drupal.behaviors.dropChecker.applyAllFacets();});$(document).on('keydown',function(e){if(e.key==='Escape'){var dropdown=$('.jsDropCheckList');if(dropdown.hasClass('show')&&dropdown.has(document.activeElement).length)dropdown.collapse('hide');}});$(document).on('mouseup',function(e){if($(e.target).closest(".jsDropCheckList.autoCollapse.show").length===0)if($(".jsDropCheckList.autoCollapse.show").length>0)$(".jsDropCheckList.autoCollapse.show").collapse('hide');});},applyAllFacets:function(){var findex=0;var q='';$('input[type="checkbox"][data-type="facet"]:checked').each(function(e){var filter=$(this).data('filter');var value=$(this).val();if(value==valAll)return;if(q!='')q+='&';q+=`f[${findex}]=${filter}:${value}`;findex++;});$('input[type="checkbox"][data-type="query"]:checked').each(function(e){var query=$(this).data('query');if(q!='')q+='&';q+=query;});$('input[type="checkbox"][data-type="value"]:checked').each(function(e){var value=$(this).val();var filter=$(this).data('filter');if(q!='')q+='&';q+=`${filter}=${value}`;});var url=window.location.origin+window.location.pathname;var curParams=new URLSearchParams(window.location.search);var keywords=curParams.get('keywords');if(keywords)q='keywords='+encodeURIComponent(keywords)+'&'+q;if(q!='')url+='?'+q;window.location.href=url;}};})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.fldSearch={attach:function(context,settings){var getSearches=function(){var searches=localStorage.getItem('recentSearches');return searches?JSON.parse(searches):[];};var saveSearches=function(searches){localStorage.setItem('recentSearches',JSON.stringify(searches));};var updateHistory=function(){var searches=getSearches();var container=$('.jsSACHistList');var $ul=$('ul',container);if($ul.length===0)$ul=$('<ul>').appendTo(container);else $ul.empty();searches.forEach((keywords)=>{var $link=$('<a>').attr('href','/search?keywords='+encodeURIComponent(keywords)).text(keywords);$ul.append($('<li>').append($link));});};var searchSubmit=function(keywords){if(!keywords||keywords==''){window.location.href='/search';return;}var searches=getSearches();if(searches.length===0||searches[0]!==keywords){searches.unshift(keywords);if(searches.length>3)searches.pop();saveSearches(searches);}window.location.href='/search?keywords='+encodeURIComponent(keywords);};var clearHistory=function(){localStorage.removeItem('recentSearches');updateHistory();};var decodeHtmlEntities=function(encodedStr){const tempElement=document.createElement('textarea');tempElement.innerHTML=encodedStr;return tempElement.value;};$(".jsSACSubmit").click(function(e){var keywords=$(this).siblings('input').val();searchSubmit(keywords);});$('.jsSACInput').on('keydown',function(e){if(e.key==='Enter')searchSubmit($(this).val());});$(".jsSACHistClear").click(function(e){clearHistory();});if($(".jsSACInput").length>0&&!$(".jsSACInput").data('ui-autocomplete'))$(".jsSACInput").autocomplete({source:function(request,response){var userInput=request.term;$.ajax({url:'/api/solr/autocomplete?title='+encodeURIComponent(userInput),success:function(data){response($.map(data,function(item){return {label:decodeHtmlEntities(item.label),url:item.url};}));}});},minLength:1,create:function(){$(this).data('dropdown',$(this).parents('.jsSACContainer').find('.jsSACDropdown'));},open:function(){var dropdown=$(this).data('dropdown');var menu=$(this).autocomplete("widget");menu.detach();$('.jsSACTop',dropdown).after(menu);updateHistory();dropdown.addClass('active');},close:function(){$(this).data('dropdown').removeClass('active');},select:function(event,ui){window.location.href=ui.item.url;return false;}});var originalClose=$.ui.autocomplete.prototype._close;$.ui.autocomplete.prototype._close=function(event){if(event&&event.type&&event.type=='blur')return;if(event)originalClose.call(this,event);};}};})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.podTeaser={attach:function(context,settings){var maxLimit=230;var labelMore='Read More';var labelLess='Read Less';var trimContent=function(text,limit){return $.trim(text).substring(0,limit).split(" ").slice(0,-1).join(" ")+"...";};if(context==document)$('.jsMoreContent').each(function(){var fullHtml=$(this).html();var plainText=$(this).text();if(plainText.length>maxLimit){$(this).data('full',fullHtml);$(this).html(trimContent(plainText,maxLimit));}else $(this).next('.jsMoreToggle').hide();});$('.jsMoreToggle').click(function(e){var contentDiv=$(this).prev('.jsMoreContent');if($(this).text()===labelMore){contentDiv.html(contentDiv.data('full'));$(this).text(labelLess);}else{contentDiv.html(trimContent(contentDiv.text(),maxLimit));$(this).text(labelMore);}e.stopImmediatePropagation();e.preventDefault();});}};})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.wistiaVideo={attach:function(context,settings){var self=this;$('.jsWistiaOverlay').hover(function(e){$(this).addClass('active');},function(e){$(this).removeClass('active');});$(document).on("click",".jsWistiaPlay",function(e){var container=$(this).parent();var vid=$(this).data('vid');window._wq=window._wq||[];_wq.push({id:vid,onReady:function(video){if(video.state()==="playing")video.pause();else video.play();self.syncButtonState(video,container);}});e.stopImmediatePropagation();e.preventDefault();});$(document).on("click",".jsWistiaVolume",function(e){var container=$(this).parent();var vid=$(this).data('vid');window._wq=window._wq||[];_wq.push({id:vid,onReady:function(video){if(video.isMuted())video.unmute();else video.mute();self.syncButtonState(video,container);}});e.stopImmediatePropagation();e.preventDefault();});},syncButtonState:function(video,container){var self=this;if(video.state()==="playing"||video.state()==="beforeplay"){self.buttonPlaying(container);if(video.isMuted())self.buttonMuted(container);else self.buttonUnmuted(container);}else{self.buttonPaused(container);self.buttonHideVolume(container);}},buttonPlaying:function(container){$(container).find('.jsIconPlay').removeClass('active');$(container).find('.jsIconPause').addClass('active');},buttonPaused:function(container){$(container).find('.jsIconPause').removeClass('active');$(container).find('.jsIconPlay').addClass('active');},buttonMuted:function(container){$(container).find('.jsIconUnmuted').removeClass('active');$(container).find('.jsIconMuted').addClass('active');},buttonUnmuted:function(container){$(container).find('.jsIconMuted').removeClass('active');$(container).find('.jsIconUnmuted').addClass('active');},buttonHideVolume:function(container){$(container).find('.jsIconMuted').removeClass('active');$(container).find('.jsIconUnmuted').removeClass('active');},play:function(vid,bMute,bRestart,container){var self=this;window._wq=window._wq||[];_wq.push({id:vid,onReady:function(video){if(bRestart)video.time(0);if(bMute)video.mute();else video.unmute();video.play();self.syncButtonState(video,container);}});},pause:function(vid,container){var self=this;window._wq=window._wq||[];_wq.push({id:vid,onReady:function(video){video.pause();self.syncButtonState(video,container);}});},mute:function(vid,container){var self=this;window._wq=window._wq||[];_wq.push({id:vid,onReady:function(video){video.mute();self.syncButtonState(video,container);}});},unmute:function(vid,container){var self=this;window._wq=window._wq||[];_wq.push({id:vid,onReady:function(video){video.unmute();self.syncButtonState(video,container);}});}};})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.cardCarousel={attach:function(context,settings){var prepareSlides=function(container,centerIndex){var centerTile=container.find('.slick-slide[data-slick-index='+centerIndex+']');centerTile.removeClass('left right');centerTile.next('.slick-slide').removeClass('left right').addClass('right');centerTile.prev('.slick-slide').removeClass('left right').addClass('left');};$('.oc-cardCarousel:not(.-typeCallout) .slick__container').each(function(){var autoPlay=Number($(this).data('auto'));var speed=Number($(this).data('speed'))*1000;$(this).slick({autoplay:autoPlay==1?true:false,autoplaySpeed:speed,dots:true,centerMode:true,variableWidth:true,centerPadding:'5px',slidesToShow:3,slidesToScroll:1,arrows:true});});$('.oc-cardCarousel.-typeCallout .slick__container').each(function(){var autoPlay=Number($(this).data('auto'));var speed=Number($(this).data('speed'))*1000;$(this).slick({autoplay:autoPlay==1?true:false,autoplaySpeed:speed,dots:true,centerMode:true,variableWidth:true,centerPadding:'5px',slidesToShow:3,slidesToScroll:1,arrows:true,responsive:[{breakpoint:575,settings:{centerPadding:'0px',variableWidth:false,slidesToShow:1,slidesToScroll:1}}]});});prepareSlides($('.oc-cardCarousel .slick__container'),0);$('.oc-cardCarousel .slick__container').on('beforeChange',function(event,slick,currentSlide,nextSlide){prepareSlides($(this),nextSlide);});$('.oc-singleCarousel .oc-lightbox').appendTo('body');$('.oc-singleCarousel .slick__container').slick({dots:true,arrows:true,infinite:true,mobileFirst:true,slidesToShow:1,slidesToScroll:1});}};})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.flatCarousel={attach:function(context,settings){$('.oc-flatCarousel .oc-lightbox').appendTo('body');$('.oc-flatCarousel').each(function(e){var container=$(this).find('.slick__container');var page={'lg':$(container).data('pagelg'),'md':$(container).data('pagemd'),'sm':$(container).data('pagesm'),'xs':$(container).data('pagexs')};var autoPlay=Number($(container).data('auto'));var speed=Number($(container).data('speed'))*1000;$(container).slick({autoplay:autoPlay==1?true:false,autoplaySpeed:speed,dots:true,arrows:true,infinite:autoPlay==1?true:false,mobileFirst:true,responsive:[{breakpoint:1280,settings:{slidesToShow:page.lg,slidesToScroll:page.lg}},{breakpoint:1040,settings:{slidesToShow:page.md,slidesToScroll:page.md}},{breakpoint:575,settings:{slidesToShow:page.sm,slidesToScroll:page.sm}},{breakpoint:200,settings:{slidesToShow:page.xs,slidesToScroll:page.xs}}]});});}};})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.paneSlider={attach:function(context,settings){$('.jsPaneSlider .slick__container').each(function(){var autoPlay=Number($(this).data('auto'));var speed=Number($(this).data('speed'))*1000;$(this).slick({autoplay:autoPlay==1?true:false,autoplaySpeed:speed,dots:true,centerMode:true,centerPadding:'110px',slidesToShow:1,slidesToScroll:1,arrows:false,responsive:[{breakpoint:1120,settings:{centerPadding:'0px'}}]});});}};})(jQuery,Drupal);;
Number.prototype.format=function(n){var r=new RegExp('\\d(?=(\\d{3})+'+(n>0?'\\.':'$')+')','g');return this.toFixed(Math.max(0,Math.floor(n))).replace(r,'$&,');};(function($,Drupal){var animationCompleteStyleClass='animation-complete',isScrollListenerAdded=false;function isScrolledIntoView(elem){var docViewTop=$(window).scrollTop(),docViewBottom=docViewTop+$(window).height(),elemTop=$(elem).offset().top,elemBottom=elemTop+$(elem).height();return ((elemBottom<=docViewBottom)&&(elemTop>=docViewTop));}Drupal.behaviors.statTile={animate:function(element){var $el=$(element),start=$el.attr('data-start');$el.stop(true).text(0);$el.addClass(animationCompleteStyleClass).prop('counter',start).animate({counter:$el.attr('data-end')},{duration:Number($el.attr('data-duration')),step:function(step){$el.text(step.format());}});},attach:function(context,settings){if(!isScrollListenerAdded){var statTile=this;$(window).on('scroll',function(){$('.mc-tileStat').each(function(idx,el){var $animate=$(el).find('.animate');if(isScrolledIntoView(el)){if(!$animate.hasClass(animationCompleteStyleClass))statTile.animate($animate);}else $animate.removeClass(animationCompleteStyleClass);});});isScrollListenerAdded=true;}}};})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.statsPane={attach:function(context,settings){$('.oc-paneStats').find('.animate').each(function(){Drupal.behaviors.statTile.animate($(this));});}};})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.table={attach:function(context,settings){var thArray=[];$('.ac-table .table thead > tr').each(function(){$('th',this).each(function(){thArray.push($(this).text());});});$('.ac-table .table tbody > tr').each(function(){var tds=$(this).find('td');var length=tds.length;for(var i=0;i<length;i++)$(tds[i]).attr('data-th',thArray[i]);});}};})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.logoboxSlider={attach:function(context,settings){var slickContainer=$('.oc-logoboxSlider .slick__container');slickContainer.slick({slidesToShow:1,slidesToScroll:1,autoplay:true,autoplaySpeed:3000,fade:true,cssEase:'linear',infinite:true});}};})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.tagButton={attach:function(context,settings){$(document).on("click",'button.ac-tagButton',function(e){if($(this).attr('aria-selected')==='true')$(this).attr('aria-selected','false');else $(this).attr('aria-selected','true');$(this).trigger("tagButtonClick");e.stopImmediatePropagation();});$(".jsTagShowAllContainer").each(function(index){var showCount=$(this).data('show');var total=$(this).children('.jsTag').length;$(this).children('.jsTag').slice(showCount).hide();if(total>showCount)$(this).find('.jsTagShowAllTrigger').addClass('show');});$(document).on("click",'.jsTagShowAllTrigger > a',function(e){var container=$(this).parents('.jsTagShowAllContainer');$(container).children('.jsTag').show();$(this).parent().removeClass('show');e.stopImmediatePropagation();e.preventDefault();});}};})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.imgsideCarousel={attach:function(context,settings){$(".oc-imgsideCarousel__thumb.jsThumb").attr("aria-selected","false");$(".oc-imgsideCarousel__thumb.jsThumb[data-key='1']").attr("aria-selected","true");$('.oc-imgsideCarousel .jsThumb').click(function(){var key=$(this).data('key');var mainRegion=$(this).parent().parent().siblings('.jsMainRegion');$(mainRegion).find('.jsTile').removeClass('show');$(mainRegion).find('.jsTile:nth-child('+key+')').addClass('show');$(this).parent().find('.jsThumb').attr("aria-selected","false");$(this).parent().find(".jsThumb[data-key='"+key+"']").attr("aria-selected","true");});if(context==document)$('.jsISCAutoPlay').each(function(){var speed=Number($(this).find('.jsMainRegion').data('speed'))*1000;var container=$(this);setInterval(function(){if(container.find('.jsThumb[aria-selected="true"]').length>0){var total=container.find('.jsThumb').length;var curKey=container.find('.jsThumb[aria-selected="true"]').data('key');var nextKey=(curKey>=total)?1:curKey+1;container.find('.jsThumb[data-key='+nextKey+']').click();}},speed);});}};})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.cardFlip={attach:function(context,settings){$('.card__front .jsFlipTrigger').click(function(e){$(this).parents('.act-flip-container').removeClass('flip-to-front').addClass('flip-to-back');});$('.card__back .jsFlipTrigger').click(function(e){$(this).parents('.act-flip-container').removeClass('flip-to-back').addClass('flip-to-front');});}};})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.lightbox={attach:function(context,settings){$('.jsTriggerVideoPopup').click(function(e){var modalID=$(this).data('modal-id');if(modalID)$('#'+modalID).modal();else $(this).closest('.act-component').find('.jsVideoLightbox').modal();e.stopImmediatePropagation();e.preventDefault();});$('.jsVideoLightbox').on('hidden.bs.modal',function(){var src=$(this).find("iframe").attr("src");$(this).find("iframe").attr("src",src);});$('.jsTriggerTextPopup').click(function(e){$(this).closest('.act-component').find('.jsTextLightbox').modal();e.stopImmediatePropagation();e.preventDefault();});}};})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.searchHero={attach:function(context,settings){$('.mc-cardHero .jsInputField').on('keypress',function(e){var key=e.which;if(key==13){$(this).siblings('.jsActionApply').click();return false;}});$('.mc-cardHero .jsActionApply').on('click',function(e){var input=$(this).siblings('.jsInputField').first();var url=$(this).data('rooturl');var key=$(input).attr('name');var value=$(input).val();if(value!='')url=url+'?'+key+'='+value;e.stopImmediatePropagation();window.location.href=url;});}};})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.filterPane={attach:function(context,settings){var calcTime=function(hour,minute){if(hour.length==1)hour='0'+hour;if(minute.length==1)minute='0'+minute;if(minute==0)minute='00';if(hour>=12)if(hour==12){hour=hour;minute=minute+" PM";}else if(hour==24){hour=11;minute="59 PM";}else{hour=hour-12;minute=minute+" PM";}else{hour=hour;minute=minute+" AM";}if(hour==0){hour=12;minute=minute;}return {hour,minute};};var renderTime=function(slider,slideValues){var hour=Math.floor(slideValues[0]/60);var minute=slideValues[0]-(hour*60);var time=calcTime(hour,minute);$(slider).find('.jsTimeStart').html('<div class="time">'+time.hour+':'+time.minute+"</div>");hour=Math.floor(slideValues[1]/60);minute=slideValues[1]-(hour*60);time=calcTime(hour,minute);$(slider).find('.jsTimeEnd').html('<div class="time">'+time.hour+':'+time.minute+"</div>");};var sortTags=function(container,dataKey){var itemList=$(container).find('.jsTagShowAllContainer li');itemList.sort(function(a,b){if(dataKey==='count'){var contentA=parseInt($(a).data(dataKey));var contentB=parseInt($(b).data(dataKey));return (contentA<contentB)?1:(contentA>contentB)?-1:0;}else{var contentA=$(a).data(dataKey);var contentB=$(b).data(dataKey);return (contentA<contentB)?-1:(contentA>contentB)?1:0;}});$(container).find('.jsTagShowAllContainer').html('').append(itemList);};$('.mc-datetimeFilter .jsTimeRange, .mc-mobileFilterPane .jsTimeRange').each(function(index){var start=$(this).data('start');var end=$(this).data('end');$(this).slider({range:true,min:450,max:1170,step:30,values:[start,end],create:function(){var values=$(this).slider("values");renderTime(this,values);},slide:function(event,ui){renderTime(this,ui.values);}});});$('.mc-tagFilter').each(function(index){sortTags($(this),'count');});$('.mc-tagFilter .jsFilterOrder').on('click',function(e){var dataKey=$(this).data('key');var container=$(this).parents('.mc-tagFilter');e.preventDefault();sortTags(container,dataKey);$(container).find('.jsFilterOrder').removeClass('current');$(this).addClass('current');});$('.mc-searchPane .jsInputField').on('keypress',function(e){var key=e.which;if(key==13){$(this).parents('.mc-searchPane').find('.jsActionApply, .jsActionApplyAlt').click();return false;}});$('.mc-searchPane .jsActionApply').on('click',function(e){var container=$(this).parents('.mc-searchPane');var url=$(this).data('rooturl');var anchor=$(this).data('anchor');var query='';container.find('.jsInputField').each(function(index){var key=$(this).attr('name');var value=$(this).val();if(value!=''){if($(this).attr('type')=='checkbox'&&!$(this).prop("checked"))return;if(query!='')query+='&';query+=key+'='+value;}});if(query!='')url=url+'?'+query;e.stopImmediatePropagation();window.location.href=url+(anchor?anchor:'');});$('.mc-searchPane .jsActionApplyAlt').on('click',function(e){var container=$(this).parents('.mc-searchPane');var urlRoot=$(this).data('rooturl');var query='';var altValueExist=container.find('.jsInputField[data-keyalt!=""]').filter(function(){return this.value;}).length>0?true:false;var mainValueAllEmpty=container.find('.jsInputField[data-keyalt=""]').filter(function(){return !this.value;}).length==container.find('.jsInputField[data-keyalt=""]').length;var altSearch=altValueExist&&mainValueAllEmpty?true:false;var url=altSearch?urlRoot+'/'+$(this).data('searchrootalt'):urlRoot+'/'+$(this).data('searchroot');container.find('.jsInputField').each(function(index){var key=altSearch?$(this).data('keyalt'):$(this).data('key');var value=$(this).val();if(value!=''){if($(this).attr('type')=='checkbox'&&!$(this).prop("checked"))return;if(query!='')query+='&';query+=key+'='+value;}});if(query!='')url=url+'?'+query;e.stopImmediatePropagation();window.location.href=url;});$('.mc-searchPane .jsCloseButton').on('click',function(e){var container=$(this).parents('.jsActionContainer');var triggerButton=$(container).find('.jsActionSearch');$(triggerButton).attr('aria-selected','false');$(container).find('.jsSectionSearch').hide();e.stopImmediatePropagation();});$('.mc-tagFilter .jsCloseButton, .mc-tagFilterGroup .jsCloseButton, .mc-datetimeFilter .jsCloseButton').on('click',function(e){var container=$(this).parents('.jsActionContainer');var triggerButton=$(container).find('.jsActionFilter');$(triggerButton).attr('aria-selected','false');$(container).find('.jsSectionFilter').hide();e.stopImmediatePropagation();});$('.mc-mobileFilterPane select').change(function(e){if($(this).val()!='')$(this).find('option[value=""]').prop("selected",false);else $(this).find('option[value=""]').prop("selected",true);});$('.mc-mobileFilterPane .jsActionReset').click(function(e){var anchor=$(this).data('anchor');window.location.href=$(this).data('rooturl')+(anchor?anchor:'');});$('.mc-mobileFilterPane .jsActionApply').on('click',function(e){var container=$(this).parents('.mc-mobileFilterPane');var url=$(this).data('rooturl');var anchor=$(this).data('anchor');var delimiter=$(this).data('delimiter');var query='';container.find('.jsSelectField').each(function(index){var key=$(this).attr('name');var value=String($(this).val());if(value!=''){value=value.replace(/,/g,delimiter);if(query!='')query+='&';query+=key+'='+value;}});container.find('.jsGroupSelectField').each(function(index){$(this).find('optgroup').each(function(){var key=$(this).data('type');var value='',rawValue='';$(this).find('option:selected').each(function(){if(value!='')value+=',';rawValue=$(this).attr('value').split('|');if(rawValue.length>=2)value+=rawValue[1];});if(value!=''){if(query!='')query+='&';query+=key+'='+value;}});});container.find('.jsTimeRange').each(function(index){var startTime=$(this).slider("values",0),endTime=$(this).slider("values",1);var min=$(this).slider("option","min"),max=$(this).slider("option","max");if(startTime==min&&endTime==max)return;if(query!='')query+='&';query+='time[min]='+startTime+'&time[max]='+endTime;});if(query!='')url=url+'?'+query;e.stopImmediatePropagation();window.location.href=url+(anchor?anchor:'');});}};})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.filterTabs={attach:function(context,settings){var refreshCount=function(element,index){var pane=$(element).parents('.jsFilterPane');var container=$(element).parents('.oc-filterTabs');var btnApply=$(container).find('.jsActionApply');var count;if($(pane).attr('id')!='date-pane'){count=$(pane).find('.jsTagValue[aria-selected="true"]').length;count=count>0?'('+count+')':'';}else{var dCount=$(pane).find('.jsTagValue[aria-selected="true"]').length;var tSlider=$(pane).find('.jsTimeRange');var tCount=(tSlider.slider("values",0)==tSlider.slider("option","min")&&tSlider.slider("values",1)==tSlider.slider("option","max"))?0:2;count=(dCount>0?dCount:'')+(tCount>0?'*':'');count=(count!='')?'('+count+')':'';}$(container).find('.jsFilterTab:eq('+index+') .jsTabCount').text(count);$(container).find('.jsTabCount').each(function(i){if($(this).text()!=''){if(!$(btnApply).hasClass('active'))$(btnApply).addClass('active');count='*';return false;}count='';});if(count=='')$(btnApply).removeClass('active');};$('.oc-filterTabs .jsActionReset').click(function(e){var url=$(this).data('rooturl');var anchor=$(this).data('anchor');if(anchor)url=url+anchor;window.location.href=url;});$('.oc-filterTabs .jsActionApply').click(function(e){var container=$(this).parents('.oc-filterTabs');var url=$(this).data('rooturl');var anchor=$(this).data('anchor');var query='';var delimiter=$(this).data('delimiter');container.find('.jsFilterPane').each(function(index){var filterType=$(this).data('filter');if(filterType=='company'||filterType=='pavilion')$(this).find('.jsFilterGroup').each(function(gindex){var filterType=$(this).data('filter');var tagItems=$(this).find('.jsTagValue[aria-selected="true"]');var filterValues='';if(tagItems.length>0)$(tagItems).each(function(itemIndex){if(filterValues!='')filterValues+=delimiter;filterValues+=$(this).data('key');});if(filterValues!=''){if(query!='')query+='&';query+=filterType+'='+filterValues;}});else{var tagItems=$(this).find('.jsTagValue[aria-selected="true"]');var filterValues='';if(tagItems.length>0)$(tagItems).each(function(itemIndex){if(filterValues!='')filterValues+=delimiter;filterValues+=$(this).data('key');});if(filterValues!=''){if(query!='')query+='&';query+=filterType+'='+filterValues;}}});container.find('.jsTimeRange').each(function(index){var startTime=$(this).slider("values",0),endTime=$(this).slider("values",1);var min=$(this).slider("option","min"),max=$(this).slider("option","max");if(startTime==min&&endTime==max)return;if(query!='')query+='&';query+='time[min]='+startTime+'&time[max]='+endTime;});if(query!='')url=url+'?'+query;if(anchor)url=url+anchor;e.stopImmediatePropagation();window.location.href=url;});$(document).on("tagButtonClick",'.oc-filterTabs .jsFilterPane .jsTagValue',function(e){var index=$(this).parents('.jsFilterPane').index();refreshCount($(this),index);});$('.oc-filterTabs .jsFilterPane').each(function(index){$(this).find('.jsTimeRange').on("slidechange",function(e){refreshCount($(this),index);});});}};})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.flyoutMenu={attach:function(context,settings){var posHidden="-1000px";var speed=200;var maxWidth=1440;var closeFlyout=function(paneID){$(paneID).animate({right:posHidden},speed);$(paneID).data('toggle','off');};$('.jsFlyoutToggle').click(function(e){var paneID=$(this).data('target');if($(paneID).data('toggle')=='off'){var posRight=0;var fullWidth=$(window).width();if(fullWidth>maxWidth)posRight=(fullWidth-maxWidth)/2;$(paneID).animate({right:posRight+"px"},speed);$(paneID).data('toggle','on');$(paneID).focus();}else closeFlyout(paneID);e.stopImmediatePropagation();e.preventDefault();});$('.jsFlyoutClose').click(function(e){var paneID=$(this).data('target');closeFlyout(paneID);e.stopImmediatePropagation();e.preventDefault();});$(document).bind('click',function(e){if(!$(e.target).closest(".jsFlyoutPane").length)$('.jsFlyoutPane').each(function(e){var paneID='#'+$(this).attr('id');closeFlyout(paneID);});});}};})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.actionTrigger={attach:function(context,settings){if($(window).width()<=1120)$('.jsCourseDeviceContent').append($('.jsCourseRight'));$('.jsActionPrint').click(function(e){window.print();e.stopImmediatePropagation();});$('.jsActionFilter').click(function(e){var container=$(this).parents('.jsActionContainer');if($(this).attr('aria-selected')==='true'){$(this).attr('aria-selected','false');$(container).find('.jsSectionFilter').hide();}else{$(container).find('.jsDropdownPane').hide();$(container).find('.jsDropdownTrigger').attr('aria-selected','false');$(this).attr('aria-selected','true');$(container).find('.jsSectionFilter').show();}e.stopImmediatePropagation();});$('.jsActionSearch').click(function(e){var container=$(this).parents('.jsActionContainer');if($(this).attr('aria-selected')==='true'){$(this).attr('aria-selected','false');$(container).find('.jsSectionSearch').hide();}else{$(container).find('.jsDropdownPane').hide();$(container).find('.jsDropdownTrigger').attr('aria-selected','false');$(this).attr('aria-selected','true');$(container).find('.jsSectionSearch').show();}e.stopImmediatePropagation();});var sortAction=function(selVal,anchor){var keys=selVal.split('|');var sort='sort_by='+keys[0]+'&sort_order='+keys[1];var urlNew=window.location.origin+window.location.pathname+'?';var query=window.location.search;if(query){var parts=query.split('?');if(parts.length>1){var params=parts[1].split('&');for(var i=0;i<params.length;i++){var seg=params[i].split('=');if(seg[0]!='sort_by'&&seg[0]!='sort_order')urlNew+=params[i]+'&';}}}urlNew+=sort;window.location.href=urlNew+(anchor?anchor:'');};$('.jsActionSortSelect').change(function(e){sortAction(this.value,$(this).data('anchor'));});$('.jsActionLinkSelect').change(function(e){var anchor=$(this).data('anchor');window.location.href=this.value+(anchor?anchor:'');});$('.jsActionSearchMobile').click(function(e){$('.jsMobileSectionSearch').appendTo('body').modal();e.stopImmediatePropagation();e.preventDefault();});$('.jsActionFilterMobile').click(function(e){$('.jsMobileSectionFilter').appendTo('body').modal();e.stopImmediatePropagation();e.preventDefault();});$('.jsJump2DateButtons .jsTagValue').on('tagButtonClick',function(e){window.location.hash=$(this).data('key');});$('.jsJump2DateSelector').on('change',function(e){window.location.hash=$(this).val();});$('.jsSessionResultTags .jsTagValue').on('tagButtonClick',function(e){window.location.href=$(this).data('key')+'#filters';});$('.jsActionClearFilter').on('click',function(e){var url=$(this).data('rooturl');var anchor=$(this).data('anchor');if(anchor)url=url+anchor;window.location.href=url;});$(".jsLoadMoreItems").each(function(index){var limit=$(this).parents('.oc-blogTimeline').length>0?5:10;var total=$(this).children('div').length;$(this).children('div:lt('+limit+')').addClass('show');if(total>limit)$(this).parents('.jsLoadMoreContainer').find('.jsLoadMoreTrigger').addClass('show');});var totalResult=$(".jsViewsResultCount").data('total');$(".jsResultCount").text(totalResult?totalResult:'0');$(document).on("click",'.jsLoadMoreTrigger > a',function(e){var moreItems=$(this).parents('.jsLoadMoreContainer').find('.jsLoadMoreItems');var total=$(moreItems).children('div').length;var existing=$(moreItems).children('div.show').length;if(existing<total){$(moreItems).children('div').slice(existing,existing+10).addClass('show');if($(moreItems).children('div.show').length==total)$(this).parent().removeClass('show');}e.stopImmediatePropagation();e.preventDefault();});$(".jsFilterByDateButtons .jsTagValue").click(function(e){var container=$(this).closest('.jsFilterByDateButtons');var rootURL=$(container).data('rooturl');var anchor=$(this).data('anchor');var key=$(this).data('key');var url=rootURL;if(key)url=rootURL+'?date='+key;if(anchor)url=url+anchor;window.location.href=url;e.stopImmediatePropagation();e.preventDefault();});$(".jsViewMore").click(function(e){var container=$(this).closest('.oc-compoList__rgnSection');container.hide();container.nextAll('.oc-compoList__rgnSection').find('.jsViewMoreHidden').removeClass('jsViewMoreHidden');e.stopImmediatePropagation();e.preventDefault();});$('.jsFieldDateRange').daterangepicker({minYear:2020,autoUpdateInput:false,locale:{cancelLabel:'Clear'},autoApply:true},function(start,end,label){});$('.jsFieldDateRange').on('apply.daterangepicker',function(ev,picker){$(this).val(picker.startDate.format('MM/DD/YYYY')+' - '+picker.endDate.format('MM/DD/YYYY'));});$('.jsFieldDateRange').on('cancel.daterangepicker',function(ev,picker){$(this).val('');});$('.jsDatePicker .jsActionApply').on('click',function(e){var container=$(this).parents('.jsDatePicker');var url=$(this).data('rooturl');var anchor=$(this).data('anchor');var query='';var range=container.find('.jsFieldDateRange').val();if(range=='')return;var dates=range.split(' - '),fromDate,toDate;if(dates.length>=2){fromDate=moment(new Date(dates[0]));if(fromDate.isValid())query='date_from='+fromDate.format('YYYY-MM-DD');toDate=moment(new Date(dates[1]));if(toDate.isValid()){if(query!='')query+='&';query+='date_to='+toDate.format('YYYY-MM-DD');}}else{if(dates.length==1){fromDate=moment(new Date(dates[0]));if(fromDate.isValid())query='date_from='+fromDate.format('YYYY-MM-DD')+'&date_to='+fromDate.format('YYYY-MM-DD');}}if(query!='')url=url+'?'+query;if(anchor)url=url+anchor;e.stopImmediatePropagation();window.location.href=url;});}};})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.accordionGroup={attach:function(context,settings){$(document).on("click",'.oc-accordionGroup .collapsed .jsAccordionToggle',function(e){$(this).find('i').removeClass().addClass('fal fa-minus-circle');$(this).parent().removeClass('collapsed').addClass('expanded');e.stopImmediatePropagation();e.preventDefault();});$(document).on("click",'.oc-accordionGroup .expanded .jsAccordionToggle',function(e){$(this).find('i').removeClass().addClass('fal fa-plus-circle');$(this).parent().removeClass('expanded').addClass('collapsed');e.stopImmediatePropagation();e.preventDefault();});$(document).on("click",'.oc-accordionGroup .jsExpandAll',function(e){$(this).removeClass('jsExpandAll').addClass('jsCollapseAll');$(this).text('Collapse All');$(this).parents('.oc-accordionGroup').find('.jsAccordionToggle').each(function(index){$(this).find('i').removeClass().addClass('fal fa-minus-circle');$(this).parent().removeClass('collapsed').addClass('expanded');});e.stopImmediatePropagation();e.preventDefault();});$(document).on("click",'.oc-accordionGroup .jsCollapseAll',function(e){$(this).removeClass('jsCollapseAll').addClass('jsExpandAll');$(this).text('Expand All');$(this).parents('.oc-accordionGroup').find('.jsAccordionToggle').each(function(index){$(this).find('i').removeClass().addClass('fal fa-plus-circle');$(this).parent().removeClass('expanded').addClass('collapsed');});e.stopImmediatePropagation();e.preventDefault();});}};})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.hamburgerBar={attach:function(context,settings){$('.jsHBarSearch a').click(function(e){var container=$(this).parents('.oc-hamburgerBar');var dropdown=$(container).find('.jsHBarSearchDropdown');$(dropdown).toggleClass('active');$(container).toggleClass('-bgOverlay');$('body').toggleClass('-noScroll');if($(dropdown).hasClass('active')&&!$(container).hasClass('-bgInvert')){$(container).addClass('-bgInvert');$(this).trigger("hbarSearchOpen");}if($(dropdown).hasClass('active'))$(container).find('.oc-hamburgerMenu .navbar-toggler[aria-expanded="true"]').click();e.stopImmediatePropagation();e.preventDefault();});var closeDropdown=function(){$('.jsHBarSearchDropdown').each(function(e){var container=$(this).parents('.oc-hamburgerBar');$(this).removeClass('active');$(container).removeClass('-bgOverlay');$('body').removeClass('-noScroll');});};$(document).bind('click',function(e){if(!$(e.target).closest(".jsHBarSearchDropdown").length)closeDropdown();});$('.jsMobileEventSearchTrigger').click(function(e){var key=$(this).data('key');var modal=$('.jsSectionSearchModal[data-key="'+key+'"]');closeDropdown();$(modal).appendTo('body').modal();e.stopImmediatePropagation();e.preventDefault();});}};})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.a2aCalendar={attach:function(context,settings){var calElement=$('.mc-a2ACalendar__rgnMain');if(calElement.length>0){var myCalendar=createCalendar({options:{class:'',id:''},data:{label:'Add to Calendar',title:calElement.attr("data-event-title"),start:new Date(calElement.attr("data-event-start")),duration:120,end:new Date(calElement.attr("data-event-end")),address:calElement.attr("data-event-address"),description:calElement.attr("data-event-description")}});if($('.mc-a2ACalendar__rgnMain *').length===0)document.querySelector('.mc-a2ACalendar__rgnMain').appendChild(myCalendar);}}};})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.vcHero={attach:function(context,settings){var infoCarousel=$('.oc-vcHero .jsInfoCarousel');var videoCarousel=$('.oc-vcHero .jsVideoCarousel');videoCarousel.on('init',function(event,slick){var element=slick.$slides.get(0);var vid=$(element).find('.jsWistiaPlay').data('vid');Drupal.behaviors.wistiaVideo.play(vid,true,true,$(element));});if(infoCarousel.length>0)infoCarousel.slick({dots:false,arrows:false,slidesToShow:1,slidesToScroll:1,autoplay:false,fade:true,cssEase:'linear',infinite:true});videoCarousel.slick({dots:true,arrows:true,slidesToShow:2,slidesToScroll:1,autoplay:false,autoplaySpeed:20000,cssEase:'linear',infinite:true,responsive:[{breakpoint:1120,settings:{slidesToShow:1,slidesToScroll:1,dots:true,arrows:false}}]});videoCarousel.on('beforeChange',function(event,slick,currentSlide,nextSlide){var container=$(this).find('.slick-slide.slick-current');var vid=$(container).find('.jsWistiaPlay').data('vid');Drupal.behaviors.wistiaVideo.pause(vid,container);if(infoCarousel.length>0)infoCarousel.slick('slickGoTo',nextSlide,false);});videoCarousel.on('afterChange',function(event,slick,currentSlide){var container=$(this).find('.slick-slide.slick-current');var vid=$(container).find('.jsWistiaPlay').data('vid');Drupal.behaviors.wistiaVideo.play(vid,true,true,container);});}};})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.a2aSocial={attach:function(context,settings){a2a.init_all();$('.jsShareTrigger').click(function(e){$(this).siblings('.jsShareFlyout').addClass('active');e.stopImmediatePropagation();e.preventDefault();});$('.jsShareClose').click(function(e){$(this).closest('.jsShareFlyout').removeClass('active');e.stopImmediatePropagation();e.preventDefault();});}};})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.paypalSelector={attach:function(context,settings){var syncButton=function(container){var curDropdown=container.find('.jsPaypalAmountSelector.active');var paypalID=curDropdown.find('select').val();container.find('.jsPaypalButton').removeClass('active');container.find('.jsPaypalButton[data-paypalid="'+paypalID+'"]').addClass('active');};$(document).on("change",".jsPaypalGroupSelector",function(e){var container=$(this).parents('.jsPaypalContainer');var groupID=$(this).val();container.find('.jsPaypalAmountSelector').removeClass('active');container.find('.jsPaypalAmountSelector[data-groupid="'+groupID+'"]').addClass('active');syncButton(container);});$(document).on("change",".jsPaypalAmountSelector select",function(e){var container=$(this).parents('.jsPaypalContainer');syncButton(container);});}};})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.wbPopup={attach:function(context,settings){$('.jsWBLightbox').appendTo('body');$(document).on("click",'.jsWBPopupTrigger',function(e){var target=$(this).data('target');$('#'+target).modal();e.stopImmediatePropagation();e.preventDefault();});}};})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.toolkitBase={attach:function(context,settings){$(document).on('click','.card__front .trigger__flip',function(e){$(this).parents('.flip-container').removeClass('flip-to-front').addClass('flip-to-back');});$(document).on('click','.card__back .trigger__flip',function(e){$(this).parents('.flip-container').removeClass('flip-to-back').addClass('flip-to-front');});$(document).on('hover','.infographic-detail .card__back',function(e){Drupal.behaviors.toolkitBase.twitterMessage=$(this).parents('.sharable-container').attr('data-twitter-message');},function(e){});},onShareCallback:function(data){dataLayer.push({'event':'AddToAnyShare','socialNetwork':'AddToAny','socialAction':data.service,'socialTarget':data.url});if(data.service=='Twitter'){data.title=Drupal.behaviors.toolkitBase.twitterMessage;return data;}},twitterMessage:''};})(jQuery,Drupal);var a2a_config=a2a_config||{};a2a_config.callbacks=a2a_config.callbacks||[];a2a_config.callbacks.push({share:Drupal.behaviors.toolkitBase.onShareCallback});;
(function($,Drupal){Drupal.behaviors.tkLightbox={attach:function(context,settings){$(document).on('click','.trigger__lightbox',function(e){e.preventDefault();var id=$(this).attr('data-lightbox-id');var active_index=$(this).attr('data-lightbox-index');if(id){if(active_index)$('#'+id).attr('data-lightbox-index',active_index);$('#'+id).modal();}else{var ajax_container=$(this).parents('.ajax-trigger-container');if(ajax_container.length>0){var nid=ajax_container.attr('data-ajax-lightbox-nid');if(nid)if($('#'+'lightbox-'+nid).length<=0)$.ajax({type:'GET',url:'/ajax/toolkit/lightbox/'+nid,success:function(data){if(data.length>0&&$('#'+'lightbox-'+nid).length<=0){$('#toolkit-lightbox-container').append(data);ajax_container.find('.trigger__lightbox').attr('data-lightbox-id','lightbox-'+nid);var active_index=ajax_container.attr('data-ajax-lightbox-index');if(active_index){ajax_container.find('.trigger__lightbox').attr('data-lightbox-index',active_index);$('#'+'lightbox-'+nid).attr('data-lightbox-index',active_index);}$('#'+'lightbox-'+nid).modal();}}});else{if(!$('#'+'lightbox-'+nid).hasClass('show'))$('#'+'lightbox-'+nid).modal();}}}});$(document).on('show.bs.modal','.oc-tkLightbox',function(e){Drupal.behaviors.tkLightbox.loadItemCarousel($(this));if($(this).attr('data-lightbox-index'))$(this).find('.oc-itemCarousel .slick__container').slick('slickGoTo',$(this).attr('data-lightbox-index')-1);Drupal.behaviors.tkLightbox.resetDiagramDownloadLink($(this));Drupal.behaviors.tkLightbox.updateShareLink($(this));});$(document).on('shown.bs.modal','.oc-tkLightbox',function(e){$(this).find('.oc-itemCarousel .slick__container').slick('refresh');});$(document).on('hidden.bs.modal','.oc-tkLightbox',function(e){$(this).find('.oc-itemCarousel .slick__container').slick('unslick');var yt_iframe=$(this).find('iframe.ac-video--youtube');if(yt_iframe.length>0)yt_iframe[0].contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}','*');});$('.oc-iframeShare').each(function(index){Drupal.behaviors.tkLightbox.loadIframeItemCarousel($(this));if($(this).attr('data-lightbox-index'))$(this).find('.oc-itemCarousel .slick__container').slick('slickGoTo',$(this).attr('data-lightbox-index')-1);Drupal.behaviors.tkLightbox.resetDiagramDownloadLink($(this));Drupal.behaviors.tkLightbox.updateShareLink($(this));$(this).find('.oc-itemCarousel .slick__container').slick('refresh');});},resetDiagramDownloadLink:function(modal){var url;if(modal.find('.infographic-container').length>0){if(modal.find('.slick-current').length>0)url=modal.find('.slick-current .downloadable-diagram img').attr('src');else url=modal.find('.downloadable-diagram img').attr('src');modal.find('.card__download-diagram a').attr('href',url);}else{if(modal.find('.diagram-container').length>0){url=modal.find('.downloadable-diagram img').attr('src');modal.find('.card__download-diagram a').attr('href',url);}}},updateShareLink:function(modal){var share_url,share_container;if(modal.find('.slick-current').length>0)share_container=modal.find('.slick-current .sharable-container');else share_container=modal.find('.sharable-container');share_url=share_container.attr('data-share-url');modal.find('.toolkit-share').attr('data-a2a-url',share_url);Drupal.behaviors.toolkitBase.twitterMessage=share_container.attr('data-twitter-message');a2a.init('page');},loadItemCarousel:function(lightbox){var slick_container=$(lightbox).find('.oc-itemCarousel .slick__container');$(slick_container).slick({infinite:true,focusOnSelect:true});$(slick_container).on('afterChange',function(event,slick,currentSlide){var modal=$(this).parents('.oc-tkLightbox');Drupal.behaviors.tkLightbox.resetDiagramDownloadLink(modal);Drupal.behaviors.tkLightbox.updateShareLink(modal);$(this).parents('.oc-itemCarousel').find('.card__counter .index').text(currentSlide+1);});},loadIframeItemCarousel:function(lightbox){var slick_container=$(lightbox).find('.oc-itemCarousel .slick__container');$(slick_container).slick({infinite:true,focusOnSelect:true});$(slick_container).on('afterChange',function(event,slick,currentSlide){var modal=$(this).parents('.oc-iframeShare');Drupal.behaviors.tkLightbox.resetDiagramDownloadLink(modal);Drupal.behaviors.tkLightbox.updateShareLink(modal);$(this).parents('.oc-itemCarousel').find('.card__counter .index').text(currentSlide+1);});}};})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.tkPromoCarousel={attach:function(context,settings){var calcCounter=function(container,slick,currentSlide){var counter=$(container).parents('.oc-promoCarousel').find('.card__counter');var total=$(container).find('.mc-flipCard').length;var max=currentSlide+slick.options.slidesToShow,min=currentSlide+1;if(max>total)max=total;if(min==max){counter.find('.range').text(min);counter.show();}else if(min>max)counter.hide();else{counter.find('.range').text(min+' - '+max);counter.show();}};$('.oc-promoCarousel .slick__container').on('init',function(event,slick){calcCounter(this,slick,0);});$('.oc-promoCarousel .slick__container').on('afterChange',function(event,slick,currentSlide){calcCounter(this,slick,currentSlide);});$('.oc-promoCarousel .slick__container').slick({infinite:false,row:1,variableWidth:true,mobileFirst:true,responsive:[{breakpoint:1280,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:1040,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:200,settings:{slidesToShow:1,slidesToScroll:1}}]});}};})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.tkLanding={attach:function(context,settings){$('.ac-iconLabel').keypress(function(event){if(event.keyCode==13){event.preventDefault();$(this).click().mousedown();}});}};})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.heroTabPane={attach:function(context,settings){$('.jsTabButton').click(function(e){var container=$(this).parents('.jsTabContainer');var index=$(this).data('index');$(this).toggleClass('active');container.find('.jsTabPane').removeClass('mobile-close');if($(this).hasClass('active')){$(this).siblings('.jsTabButton').removeClass('active');container.find('.jsTabPane').removeClass('active');}container.find('.jsTabPane[data-index='+index+']').toggleClass('active');e.stopImmediatePropagation();e.preventDefault();});}};})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.spotLogoSlider={attach:function(context,settings){var slickContainer=$('.oc-spotLogoSlider .slick__container');slickContainer.slick({slidesToShow:1,slidesToScroll:1,autoplay:true,autoplaySpeed:3000,fade:true,cssEase:'linear',infinite:true});}};})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.clpsBanner={collapse:function(container,switcher){container.removeClass('-expanded').addClass('-collapsed');$(switcher).data('status','collapsed');$(switcher).text($(switcher).data('expdlabel'));},expand:function(container,switcher){container.removeClass('-collapsed').addClass('-expanded');$(switcher).data('status','expanded');$(switcher).text($(switcher).data('clapslabel'));},attach:function(context,settings){$('.jsClpsSwitch').click(function(e){var container=$(this).parents('.jsClpsContainer');var status=$(this).data('status');if(status=='collapsed')Drupal.behaviors.clpsBanner.expand(container,$(this));else Drupal.behaviors.clpsBanner.collapse(container,$(this));e.stopImmediatePropagation();e.preventDefault();});}};})(jQuery,Drupal);;
var calFeed=null;var calEventDates=null;(function($,Drupal){Drupal.behaviors.eventCal={attach:function(context,settings){var dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];if(window.innerWidth<=1024)dayNames=["Su","Mo","Tu","We","Th","Fr","Sa"];var refreshCal=function(curDates){for(let i=0;i<curDates.length;i++)$(".ui-state-default").each(function(){if($(this).text()==curDates[i].day)$(this).addClass('hasEvent');});};var refreshCards=function(year,month,day,cal){var container=$(cal).parents('.jsCalContainer');if(calFeed.year==year&&calFeed.month==month&&calFeed.events&&calFeed.events.hasOwnProperty(day))container.find('.jsCalCurEvents').html(calFeed.events[day]);else container.find('.jsCalCurEvents').html('<div class="noResult">No Events Found.</div>');};var ajaxLoadEvents=function(year,month,cal,reloadCards){setTimeout(function(){$.ajax({url:"/ajax/comm-events/"+calType+"/"+year+"/"+month,method:'GET',dataType:"json",success:function(data){calEventDates=[];calFeed=data;if(data.events){for(let day in data.events){var date={'year':data.year,'month':data.month,'day':day};calEventDates.push(date);}}var today=new Date();refreshCal(calEventDates);if(reloadCards)refreshCards(today.getFullYear(),today.getMonth()+1,today.getDate(),cal);replaceNavIcons();}});},200);};var replaceNavIcons=function(){$('.jsCalDatePicker .ui-datepicker-prev').html('<i class="fal fa-chevron-left"></i>');$('.jsCalDatePicker .ui-datepicker-next').html('<i class="fal fa-chevron-right"></i>');};$(".jsCalDatePicker").datepicker({firstDay:0,prevText:'',nextText:'',dayNamesMin:dayNames,onSelect:function(date,inst){var container=$(this).parents('.jsCalContainer');var dateText=$.datepicker.formatDate("MM d",$(this).datepicker("getDate"));container.find('.jsCalCurDate').removeClass('default').text(dateText);var dateArray=date.split("/");var year=parseInt(dateArray[2]);var month=parseInt(dateArray[0]);var day=parseInt(dateArray[1]);refreshCards(year,month,day,$(this));setTimeout(function(){refreshCal(calEventDates);replaceNavIcons();},200);},onChangeMonthYear:function(year,month,inst){ajaxLoadEvents(year,month,$(this),0);}});replaceNavIcons();if(document==context)$(".jsCalDatePicker").each(function(){ajaxLoadEvents(calYear,calMonth,$(this),1);});}};})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.sampleCal={attach:function(context,settings){$("#datepicker").datepicker({firstDay:1,prevText:'<i class="fa fa-fw fa-angle-left"></i>',nextText:'<i class="fa fa-fw fa-angle-right"></i>',onSelect:function(){var dateText=$.datepicker.formatDate("MM dd, yy",$(this).datepicker("getDate"));$('p.bgText').text(dateText);alert('hello');}});var currentDate=$.datepicker.formatDate('MM dd, yy',new Date());$('#monthAndDate').text(currentDate);$('p.bgText').text("Select a date");var currentWeekday=$.datepicker.formatDate('DD',new Date());$('#dayOfWeek').text(currentWeekday);}};})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.sgGlobal={attach:function(context,settings){var sgHeaderScroll=function(){if($(window).scrollTop()>=100)$('.page-demo .oc-orgHeader').each(function(){if(!$(this).hasClass('-bgInvert'))$(this).addClass('-bgInvert');});else $('.page-demo .oc-orgHeader').each(function(){$(this).removeClass('-bgInvert');});};window.addEventListener('scroll',sgHeaderScroll);}};})(jQuery,Drupal);;
(function($,Drupal,drupalSettings){'use strict';Drupal.extlink=Drupal.extlink||{};Drupal.extlink.attach=function(context,drupalSettings){if(typeof drupalSettings.data==='undefined'||!drupalSettings.data.hasOwnProperty('extlink'))return;var extIconPlacement='append';if(drupalSettings.data.extlink.extIconPlacement&&drupalSettings.data.extlink.extIconPlacement!='0')extIconPlacement=drupalSettings.data.extlink.extIconPlacement;var pattern=/^(([^\/:]+?\.)*)([^\.:]{1,})((\.[a-z0-9]{1,253})*)(:[0-9]{1,5})?$/;var host=window.location.host.replace(pattern,'$2$3$6');var subdomain=window.location.host.replace(host,'');var subdomains;if(drupalSettings.data.extlink.extSubdomains)subdomains='([^/]*\\.)?';else if(subdomain==='www.'||subdomain==='')subdomains='(www\\.)?';else subdomains=subdomain.replace('.','\\.');var whitelistedDomains=false;if(drupalSettings.data.extlink.whitelistedDomains){whitelistedDomains=[];for(var i=0;i<drupalSettings.data.extlink.whitelistedDomains.length;i++)whitelistedDomains.push(new RegExp('^https?:\\/\\/'+drupalSettings.data.extlink.whitelistedDomains[i].replace(/(\r\n|\n|\r)/gm,'')+'.*$','i'));}var internal_link=new RegExp('^https?://([^@]*@)?'+subdomains+host,'i');var extInclude=false;if(drupalSettings.data.extlink.extInclude)extInclude=new RegExp(drupalSettings.data.extlink.extInclude.replace(/\\/,'\\'),'i');var extExclude=false;if(drupalSettings.data.extlink.extExclude)extExclude=new RegExp(drupalSettings.data.extlink.extExclude.replace(/\\/,'\\'),'i');var extCssExclude=false;if(drupalSettings.data.extlink.extCssExclude)extCssExclude=drupalSettings.data.extlink.extCssExclude;var extCssExplicit=false;if(drupalSettings.data.extlink.extCssExplicit)extCssExplicit=drupalSettings.data.extlink.extCssExplicit;var external_links=[];var mailto_links=[];$('a:not([data-extlink]), area:not([data-extlink])',context).each(function(el){try{var url='';if(typeof this.href=='string')url=this.href.toLowerCase();else{if(typeof this.href=='object')url=this.href.baseVal;}if(url.indexOf('http')===0&&((!internal_link.test(url)&&!(extExclude&&extExclude.test(url)))||(extInclude&&extInclude.test(url)))&&!(extCssExclude&&$(this).is(extCssExclude))&&!(extCssExclude&&$(this).parents(extCssExclude).length>0)&&!(extCssExplicit&&$(this).parents(extCssExplicit).length<1)){var match=false;if(whitelistedDomains)for(var i=0;i<whitelistedDomains.length;i++)if(whitelistedDomains[i].test(url)){match=true;break;}if(!match)external_links.push(this);}else{if(this.tagName!=='AREA'&&url.indexOf('mailto:')===0&&!(extCssExclude&&$(this).parents(extCssExclude).length>0)&&!(extCssExplicit&&$(this).parents(extCssExplicit).length<1))mailto_links.push(this);}}catch(error){return false;}});if(drupalSettings.data.extlink.extClass!=='0'&&drupalSettings.data.extlink.extClass!=='')Drupal.extlink.applyClassAndSpan(external_links,drupalSettings.data.extlink.extClass,extIconPlacement);if(drupalSettings.data.extlink.mailtoClass!=='0'&&drupalSettings.data.extlink.mailtoClass!=='')Drupal.extlink.applyClassAndSpan(mailto_links,drupalSettings.data.extlink.mailtoClass,extIconPlacement);if(drupalSettings.data.extlink.extTarget){$(external_links).filter(function(){return !(drupalSettings.data.extlink.extTargetNoOverride&&$(this).is('a[target]'));}).attr({target:'_blank'});$(external_links).attr('rel',function(i,val){if(val===null||typeof val==='undefined')return 'noopener';if(val.indexOf('noopener')>-1)if(val.indexOf('noopener')===-1)return val+' noopener';else return val;else return val+' noopener';});}if(drupalSettings.data.extlink.extNofollow)$(external_links).attr('rel',function(i,val){if(val===null||typeof val==='undefined')return 'nofollow';var target='nofollow';if(drupalSettings.data.extlink.extFollowNoOverride)target='follow';if(val.indexOf(target)===-1)return val+' nofollow';return val;});if(drupalSettings.data.extlink.extNoreferrer)$(external_links).attr('rel',function(i,val){if(val===null||typeof val==='undefined')return 'noreferrer';if(val.indexOf('noreferrer')===-1)return val+' noreferrer';return val;});Drupal.extlink=Drupal.extlink||{};Drupal.extlink.popupClickHandler=Drupal.extlink.popupClickHandler||function(){if(drupalSettings.data.extlink.extAlert)return confirm(drupalSettings.data.extlink.extAlertText);};$(external_links).off("click.extlink");$(external_links).on("click.extlink",function(e){return Drupal.extlink.popupClickHandler(e,this);});};Drupal.extlink.applyClassAndSpan=function(links,class_name,icon_placement){var $links_to_process;if(drupalSettings.data.extlink.extImgClass)$links_to_process=$(links);else{var links_with_images=$(links).find('img, svg').parents('a');$links_to_process=$(links).not(links_with_images);}if(class_name!=='0')$links_to_process.addClass(class_name);$links_to_process.attr('data-extlink','');var i;var length=$links_to_process.length;for(i=0;i<length;i++){var $link=$($links_to_process[i]);if(drupalSettings.data.extlink.extUseFontAwesome)if(class_name===drupalSettings.data.extlink.mailtoClass)$link[icon_placement]('<span class="fa-'+class_name+' extlink"><span class="'+drupalSettings.data.extlink.extFaMailtoClasses+'" aria-label="'+drupalSettings.data.extlink.mailtoLabel+'"></span></span>');else $link[icon_placement]('<span class="fa-'+class_name+' extlink"><span class="'+drupalSettings.data.extlink.extFaLinkClasses+'" aria-label="'+drupalSettings.data.extlink.extLabel+'"></span></span>');else if(class_name===drupalSettings.data.extlink.mailtoClass)$link[icon_placement]('<svg focusable="false" class="'+class_name+'" role="img" aria-label="'+drupalSettings.data.extlink.mailtoLabel+'" xmlns="http://www.w3.org/2000/svg" viewBox="0 10 70 20"><metadata><sfw xmlns="http://ns.adobe.com/SaveForWeb/1.0/"><sliceSourceBounds y="-8160" x="-8165" width="16389" height="16384" bottomLeftOrigin="true"/><optimizationSettings><targetSettings targetSettingsID="0" fileFormat="PNG24Format"><PNG24Format transparency="true" filtered="false" interlaced="false" noMatteColor="false" matteColor="#FFFFFF"/></targetSettings></optimizationSettings></sfw></metadata><title>'+drupalSettings.data.extlink.mailtoLabel+'</title><path d="M56 14H8c-1.1 0-2 0.9-2 2v32c0 1.1 0.9 2 2 2h48c1.1 0 2-0.9 2-2V16C58 14.9 57.1 14 56 14zM50.5 18L32 33.4 13.5 18H50.5zM10 46V20.3l20.7 17.3C31.1 37.8 31.5 38 32 38s0.9-0.2 1.3-0.5L54 20.3V46H10z"/></svg>');else $link[icon_placement]('<svg focusable="false" class="'+class_name+'" role="img" aria-label="'+drupalSettings.data.extlink.extLabel+'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 80 40"><metadata><sfw xmlns="http://ns.adobe.com/SaveForWeb/1.0/"><sliceSourceBounds y="-8160" x="-8165" width="16389" height="16384" bottomLeftOrigin="true"/><optimizationSettings><targetSettings targetSettingsID="0" fileFormat="PNG24Format"><PNG24Format transparency="true" filtered="false" interlaced="false" noMatteColor="false" matteColor="#FFFFFF"/></targetSettings></optimizationSettings></sfw></metadata><title>'+drupalSettings.data.extlink.extLabel+'</title><path d="M48 26c-1.1 0-2 0.9-2 2v26H10V18h26c1.1 0 2-0.9 2-2s-0.9-2-2-2H8c-1.1 0-2 0.9-2 2v40c0 1.1 0.9 2 2 2h40c1.1 0 2-0.9 2-2V28C50 26.9 49.1 26 48 26z"/><path d="M56 6H44c-1.1 0-2 0.9-2 2s0.9 2 2 2h7.2L30.6 30.6c-0.8 0.8-0.8 2 0 2.8C31 33.8 31.5 34 32 34s1-0.2 1.4-0.6L54 12.8V20c0 1.1 0.9 2 2 2s2-0.9 2-2V8C58 6.9 57.1 6 56 6z"/></svg>');}};Drupal.behaviors.extlink=Drupal.behaviors.extlink||{};Drupal.behaviors.extlink.attach=function(context,drupalSettings){if(typeof extlinkAttach==='function')extlinkAttach(context);else Drupal.extlink.attach(context,drupalSettings);};})(jQuery,Drupal,drupalSettings);;
